var documenterSearchIndex = {"docs":
[{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"EditURL = \"<unknown>/examples/src/ex1_pricing_pe_nofeedback.jl\"","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#Pricing-under-RI-w/o-Endogenous-Feedback-1","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"","category":"section"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"This document goes through a couple of examples for solving pricing under rational inattention without endogenous feedback using the DRIPs package.","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"(Image: Binder) to run and modify the following code (no software is needed on the local machine).","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"See Afrouzi and Yang (2019) for background on the theory.","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#Contents-1","page":"Pricing under RI w/o Endogenous Feedback","title":"Contents","text":"","category":"section"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"Ex. 1A: One Shock Case\nInitialization\nSolution\nMeasure Performance\nIRFs\nEx. 1B: Two Shocks Case\nInitialization\nSolution\nMeasure Performance\nIRFs","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#ex1a_1shock-1","page":"Pricing under RI w/o Endogenous Feedback","title":"Ex. 1A: One Shock Case","text":"","category":"section"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"There is a measure of firms indexed by iin01. Firm i chooses its price p_it at time t to track its ideal price p_it^*. Formally, her flow profit is     -(p_it-p_it^*)^2","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"We start by assuming that p_it^*=q_t where","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"beginaligned\n    Delta q_t=rho Delta q_t-1+u_tquad u_tsim mathcalN(0sigma_u^2)\nendaligned","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"Here q_t can be interpreted as money growth or the nominal aggregate demand. Therefore, the state-space representation of the problem is","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"beginaligned\n   vecx_t=leftbeginarrayc\n    q_t\n    Delta q_t\n    endarrayright\n    = undersetmathbfAunderbraceleftbeginarraycc\n    1  rho \n    0  rho \n    endarrayright vecx_t-1\n    + undersetmathbfQunderbraceleftbeginarrayc\n    sigma_u  \n    sigma_u \n    endarrayright u_t \n    p_it^*=undersetmathbfHunderbraceleftbeginarrayc\n    1 \n    0 \n    endarrayrightvecx_t\nendaligned","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#ex1a_initialize-1","page":"Pricing under RI w/o Endogenous Feedback","title":"Initialization","text":"","category":"section"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"Include the package:","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"using DRIPs;\nnothing #hide","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"Assign value to deep parameters and define the structure of the problem","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"ρ   = 0.6;        #persistence of money growth\nσ_u = 1;          #std. deviation of shocks to money growth\nnothing #hide","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"Primitives of the DRIP:","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"ω   = 100;\nβ   = 0.96^0.25;\nA   = [1 ρ; 0 ρ];\nQ   = σ_u*[1; 1];\nH   = [1; 0];\nnothing #hide","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#ex1a_solution-1","page":"Pricing under RI w/o Endogenous Feedback","title":"Solution","text":"","category":"section"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"ex1 = Drip(ω,β,A,Q,H);\nnothing #hide","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#ex1a_performance-1","page":"Pricing under RI w/o Endogenous Feedback","title":"Measure Performance","text":"","category":"section"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"using BenchmarkTools;\n@benchmark Drip(ω,β,A,Q,H) setup = (ω = 100*rand()) # solves and times the function for a random set of ω's","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"BenchmarkTools.Trial: \n  memory estimate:  45.36 KiB\n  allocs estimate:  446\n  --------------\n  minimum time:     29.225 μs (0.00% GC)\n  median time:      102.102 μs (0.00% GC)\n  mean time:        116.995 μs (13.85% GC)\n  maximum time:     4.342 ms (95.94% GC)\n  --------------\n  samples:          10000\n  evals/sample:     1","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#ex1a_irfs-1","page":"Pricing under RI w/o Endogenous Feedback","title":"IRFs","text":"","category":"section"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"ex1irfs = irfs(ex1, T = 20);\nnothing #hide","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"Let's plot how the average price p=int_0^1 p_itdi responds to a shock to money growth:","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"using Plots, LaTeXStrings; pyplot();\nplot(1:ex1irfs.T,[ex1irfs.x[1,1,:],ex1irfs.a[1,1,:]],\n    xlabel     = \"Time\",\n    label      = [L\"Nominal Agg. Demand ($q$)\" L\"Price ($p$)\"],\n    title      = \"IRFs to 1 Std. Dev. Expansionary Shock\",\n    xlim       = (1,ex1irfs.T),\n    lw         = 3,\n    legend     = :bottomright,\n    legendfont = font(12),\n    tickfont   = font(12),\n    framestyle = :box)","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"(Image: )","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"We can also plot the IRFs of inflation pi_tequiv p_t-p_t-1 and output y_tequiv q_t-p_t to 1 percent expansionary shock to q:","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"p1 = plot(1:ex1irfs.T,ex1irfs.x[1,1,:]-ex1irfs.a[1,1,:],\n    title  = L\"Output ($y_t$)\")\n\np2 = plot(1:ex1irfs.T,[ex1irfs.a[1,1,1];ex1irfs.a[1,1,2:end]-ex1irfs.a[1,1,1:end-1]],\n    title  = L\"Inflation ($\\pi_t$)\")\n\nplot(p1,p2,\n    layout     = (1,2),\n    xlim       = (1,ex1irfs.T),\n    lw         = 3,\n    legend     = false,\n    tickfont   = font(12),\n    framestyle = :box)","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"(Image: )","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#ex1b_twoshocks-1","page":"Pricing under RI w/o Endogenous Feedback","title":"Ex. 1B: Two Shocks Case","text":"","category":"section"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"Suppose now that p_it^*=q_t-z_t where","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"beginaligned\n    Delta q_t=rho Delta q_t-1+u_tquad u_tsim mathcalN(0sigma_u^2) \n    z_tsim mathcalN(0sigma_z^2)\nendaligned","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"Here q_t can be interpreted as money growth and z_it as an idiosyncratic TFP shock. Therefore,","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"beginaligned\n   vecx_t=leftbeginarrayc\n    q_t\n    Delta q_t \n    z_t\n    endarrayright\n    = undersetmathbfAunderbraceleftbeginarrayccc\n    1  rho  0\n    0  rho  0\n    0  0  0 \n    endarrayright vecx_t-1\n    + undersetmathbfQunderbraceleftbeginarraycc\n    sigma_u  0 \n    sigma_u  0 \n    0  sigma_z   \n    endarrayright leftbeginarrayc\n    u_t  \n    z_t   \n    endarrayright \n    p_it^*=undersetmathbfHunderbraceleftbeginarrayc\n    1     \n    0 \n    -1 \n    endarrayrightvecx_t\nendaligned","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#ex1b_initialize-1","page":"Pricing under RI w/o Endogenous Feedback","title":"Initialization","text":"","category":"section"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"Assign values:","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"ρ   = 0.6;        #persistence of money growth\nσ_u = 1;          #std. deviation of shocks to money growth\nσ_z = √10;      #std. deviation of idiosyncratic shock\nnothing #hide","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"Specifying the primitives of the drip","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"ω   = 100;\nβ   = 0.96^0.25;\nA   = [1 ρ 0; 0 ρ 0; 0 0 0];\nQ   = [σ_u 0; σ_u 0; 0 σ_z];\nH   = [1; 0; -1];\nnothing #hide","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#ex1b_solution-1","page":"Pricing under RI w/o Endogenous Feedback","title":"Solution","text":"","category":"section"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"ex2  = Drip(ω,β,A,Q,H);\nnothing #hide","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#ex1b_performance-1","page":"Pricing under RI w/o Endogenous Feedback","title":"Measure Performance","text":"","category":"section"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"@benchmark Drip(ω,β,A,Q,H) setup = (ω = 100*rand()) # solves and times the function for a random set of ω's","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"BenchmarkTools.Trial: \n  memory estimate:  110.42 KiB\n  allocs estimate:  784\n  --------------\n  minimum time:     103.195 μs (0.00% GC)\n  median time:      245.442 μs (0.00% GC)\n  mean time:        257.566 μs (6.57% GC)\n  maximum time:     4.542 ms (93.05% GC)\n  --------------\n  samples:          10000\n  evals/sample:     1","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#ex1b_irfs-1","page":"Pricing under RI w/o Endogenous Feedback","title":"IRFs","text":"","category":"section"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"ex2irfs = irfs(ex2, T = 20);\nnothing #hide","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"To get the IRFs simply use the law of motion for actions:","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"p1 = plot(1:ex2irfs.T,[ex2irfs.x[1,1,:],ex2irfs.a[1,1,:]],\n    title  = L\"IRFs to $q$ shock\");\np2 = plot(1:ex1irfs.T,[ex2irfs.x[1,2,:],ex2irfs.a[1,2,:]],\n    title  = L\"IRFs to $z$ shock\");\n\nplot(p1,p2, layout = (1,2),\n    xlabel     = \"Time\",\n    label      = [L\"Agg. Demand ($q$)\" L\"Price ($p$)\"],\n    xlim       = (1,ex2irfs.T),\n    lw         = 3,\n    legend     = :bottomright,\n    legendfont = font(12),\n    tickfont   = font(12),\n    framestyle = :box)","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"(Image: )","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"More IRFs:","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"p1 = plot(1:ex2irfs.T,ex2irfs.x[1,1,:]-ex2irfs.a[1,1,:],\n    title  = L\"Output ($q_0\\to y_t$)\");\n\np2 = plot(1:ex2irfs.T,[ex2irfs.a[1,1,1];ex2irfs.a[1,1,2:end]-ex2irfs.a[1,1,1:end-1]],\n    title  = L\"Inflation ($q_0\\to \\pi_t$)\")\n\np3 = plot(1:ex2irfs.T,ex2irfs.x[1,2,:]-ex2irfs.a[1,2,:],\n    title  = L\"Output ($z_0\\to y_t$)\");\n\np4 = plot(1:ex2irfs.T,[ex2irfs.a[1,2,1];ex2irfs.a[1,2,2:end]-ex2irfs.a[1,2,1:end-1]],\n    title  = L\"Inflation ($z_0\\to \\pi_t$)\")\n\nplot(p1,p2,p3,p4, layout = (2,2),\n    xlim       = (1,ex2irfs.T),\n    lw         = 3,\n    legend     = false,\n    tickfont   = font(12),\n    framestyle = :box)","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"(Image: )","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"","category":"page"},{"location":"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback/#","page":"Pricing under RI w/o Endogenous Feedback","title":"Pricing under RI w/o Endogenous Feedback","text":"This page was generated using Literate.jl.","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"EditURL = \"<unknown>/examples/src/ex3_Mackowiak_Wiederholt_2009.jl\"","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#Replication-of-Mackowiak-and-Wiederholt-(2009)-1","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"","category":"section"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"This example replicates Mackowiak and Wiederholt (2009) (henceforth MW) using the DRIPs package.","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"(Image: Binder) to run and modify the following code (no software is needed on the local machine).","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"See Afrouzi and Yang (2019) for background on the theory.","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#Contents-1","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Contents","text":"","category":"section"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"Setup\nMapping the Problem to a DRIP\nInitialization\nFunctions\nSolving for the fixed point given omega\nSolving for the optimal omega\nFigures\nBenchmark Economy\nOther values of real rigidity\nOther values of information capacity\nMeasuring Performance/Speed","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#mw2009_setup-1","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Setup","text":"","category":"section"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"The problem in MW is","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"beginaligned\n    min_hatDelta_ithatz_it left Eleft(Delta_t-hatDelta_it)^2right+undersetequiv xiunderbraceleft(frachatpi_14hatpi_11right)^2Eleft(z_it-hatz_it)^2rightright \n    stquad  mathcalI(Delta_thatDelta_it)+mathcalI(z_ithatz_it)leq kappa \n     Delta_thatDelta_it perp z_ithatz_it\nendaligned","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"where","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"beginaligned\n    Delta_tequiv p_t + undersetequiv 1-alphaunderbraceleft(frachatpi_13hatpi_11right)(q_t-p_t) \n    p_t = int_0^1 hatDelta_itdi \n    q_t = rho q_t-1 + nu_t nu_qtsim mathcalN(0sigma_q^2) \n    z_it= rho z_it-1 + nu_zt nu_ztsim mathcalN(0sigma_z^2)\nendaligned","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#mw2009_map_drip-1","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Mapping the Problem to a DRIP","text":"","category":"section"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"There are a few ways of translating the problem above to a D.R.I.P. structure; however, the most efficient way, due to the independence assumption, is to write it as the sum of two D.R.I.P.'s: one that solves the attention problem for the idiosyncratic shock, and one that solves the attention problem for the aggregate shock which also has endogenous feedback.","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"Moreover, since the problem above has a fixed capacity, instead of a fixed cost of attention (omega) as in D.R.I.P. pacakge, we need to iterate over omega's to find the one that corresponds with kappa.","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#mw2009_param-1","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Initialization","text":"","category":"section"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"Include the package::","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"using DRIPs;\nnothing #hide","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"Assign parameters:","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"ρ  = 0.95;\nσq = 0.01;\nσz = 11.8*σq;\nκ  = 3;\nξ  = 1;\nα  = 1 - 0.15;\nnothing #hide","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"Primitives of Drip:","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"using LinearAlgebra;\nL  = 21; # length of trunction\nA  = [zeros(1,L);[Matrix(I,L-1,L-1);zeros(1,L-1)]']; # MW truncate the state space with linear irfs of length 20\nQq = zeros(L,1); Qq[1]=σq;\nQz = zeros(L,1); Qz[1]=σz;\nH  = zeros(L,1); H[1:21] = Array(1:-1/20:0);\nnothing #hide","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#mw2009_funcs-1","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Functions","text":"","category":"section"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"We start with a function that solves the aggregate problem with feedback for a given omega.","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#mw2009_fpointomega-1","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Solving for the fixed point given omega","text":"","category":"section"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"function agg_drip(ω,A,Qq,        #primitives of drip except for H because H is endogenous\n                  α,             #strategic complementarity\n                  H;             #state space rep. of q\n                  β     = 1,     #optional: discount factor, MW's parameterization implies β = 1\n                  H0    = H,     #optional: initial guess for HΔ (H is the true solution when α=0)\n                  maxit = 10000, #optional: max number of iterations for GE code\n                  tol   = 1e-4,  #optional: tolerance for iterations\n                  w     = 1)     #optional: update weight for RI\n    errmin= 1;\n    err   = 1;\n    iter  = 0;\n    L     = length(H);\n    while (err > tol) & (iter < maxit)\n            if iter == 0\n                global agg  = Drip(ω,β,A,Qq,H0;w = w);\n            else\n                global agg  = Drip(ω,β,A,Qq,H0;Ω0 = agg.ss.Ω , Σ0 = agg.ss.Σ_1,w = w);\n            end\n\n            XFUN(jj) = ((I-agg.ss.K*agg.ss.Y')*agg.A)^jj * (agg.ss.K*agg.ss.Y') * (agg.A')^jj\n            X = DRIPs.infinitesum(XFUN; maxit=200, start = 0);  #E[x⃗]=X×x⃗\n\n            XpFUN(jj) = α^jj * X^(jj)\n            Xp = DRIPs.infinitesum(XpFUN; maxit=200, start = 0);\n\n            H1 = (1-α)*Xp'*H;\n\n            err= 0.5*norm(H1-H0,2)/norm(H0)+0.5*err;\n            if DRIPs.capacity(agg) < 1e-2 # perturb the initial guess if solution is the zero capacity one\n                H0 = H0+rand(L).*(H-H0);\n            else # store the solution if it has positive capacity\n                H0 = H1;\n                if err < errmin\n                    global aggmin = agg;\n                    errmin = err;\n                end\n            end\n            iter += 1;\n    end\n    return(aggmin, errmin)\nend;\nnothing #hide","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"Now we need a function that iterates over omega's to find the one that corresponds to a given capacity for the MW problem.","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#mw2009_solveomega-1","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Solving for the optimal omega","text":"","category":"section"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"using Printf;\nfunction MW(κ,α,A,Qq,Qz,Hq,Hz; #primitives of MW problem\n            ω     = σq^2,      #optional: initial guess for ω\n            tol   = 1e-3,      #optional: tolerance for κ\n            maxit = 10000)     #optional: max iterations\n    ωs    = [ω; 2*ω];\n    caps  = [];\n    iter  = 0;\n    err   = 1;\n    it    = 0;\n    while (err > tol) & (iter < maxit)\n        agg, errtemp = agg_drip(ω,A,Qq,α,H; H0 = rand(L),maxit=20,w=0.95);\n        idi = Drip(ω,1,A,Qz,H,w = 0.9) ;\n        cap = DRIPs.capacity(agg, unit = \"bit\") + DRIPs.capacity(idi, unit = \"bit\");\n        x = ω/σq^2;\n        @printf(\"ω = %.2fσq² for κ = %.2f \\n\",x,cap)\n        push!(caps,cap);\n        if it == 0\n            ω = ωs[end];\n        else\n            slope = (caps[end]-caps[end-1])/(ωs[end]-ωs[end-1]);\n            ω     = ω + (κ-caps[end])/slope;\n            push!(ωs,ω);\n        end\n        err = abs(caps[end] - κ)/κ;\n        it  += 1;\n    end\n    return(ω);\nend;\nnothing #hide","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#mw2009_figures-1","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Figures","text":"","category":"section"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"Start with the benchmark calibration:","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#mw2009_fig_benchmark-1","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Benchmark Economy","text":"","category":"section"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"ω = MW(3,α,A,Qq,Qz,H,H);\n\nagg, err  = agg_drip(ω,A,Qq,α,H; H0 = rand(L), maxit = 500, w = 0.95);\nidi       = Drip(ω,1,A,Qz,H,w = 0.9);\n\n@printf(\"Agg. Capacity = %.2f bits, Idio. Capacity = %.2f bits\",DRIPs.capacity(agg),DRIPs.capacity(idi));\nnothing #hide","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"ω = 1.00σq² for κ = 3.67 \nω = 2.00σq² for κ = 3.10 \nω = 2.18σq² for κ = 3.01 \nω = 2.20σq² for κ = 3.01 \nω = 2.41σq² for κ = 2.94 \nω = 2.24σq² for κ = 3.00 \nAgg. Capacity = 0.12 bits, Idio. Capacity = 2.90 bits","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"Plot IRFs","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"iirfs  = irfs(idi, T = L)\nairfs  = irfs(agg, T = L)\n\nusing Plots, LaTeXStrings; pyplot();\np1 = plot([iirfs.a[1,1,:],σz*H],\n     label             = [\"Perfect information\" \"Rational inattention\"],\n     marker            = [:square :circle],\n     color             = [:gray25 :black],\n     markercolor       = [false :black],\n     markerstrokecolor = [:gray25 :black],\n     markersize        = [7 3],\n     xlabel            = \"Periods\",\n     ylabel            = \"Impulse responses to shocks \\n of one standard deviation\");\np2 = plot([σq*H,airfs.a[1,1,1:end],σq*agg.H],\n     label             = [\"Perfect information\" \"Rational inattention\" L\"$\\Delta$ at the fixed point w/ RI\"],\n     marker            = [:circle :square :utriangle],\n     color             = [:black :gray25 :gray50],\n     markercolor       = [:black false false] ,\n     markerstrokecolor = [:black :gray25 :gray50],\n     markersize        = [3 7 7],\n     xlabel            = \"Periods\",\n     ylabel            = \"Impulse responses to shocks \\n of one standard deviation\")\n\nplot(p1,p2,\n    layout     = (2,1),\n    xlim       = (0,L+1),\n    lw         = 1,\n    legend     = :topright,\n    legendfont = font(12),\n    tickfont   = font(12),\n    size       = (1000,550),\n    xticks     = 1:2:21,\n    framestyle = :box)","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"(Image: )","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#mw2009_robust_alpha-1","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Other values of real rigidity (alpha)","text":"","category":"section"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"For alpha = 07:","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"ω_α7 = MW(3,0.7,A,Qq,Qz,H,H);\n\nagg_α7, err = agg_drip(ω_α7,A,Qq,0.7,H; H0 = rand(L), maxit = 100, w = 0.95);\nidi_α7      = Drip(ω_α7,1,A,Qz,H,w = 0.9);\n\n@printf(\"Agg. Capacity = %.2f bits, Idio. Capacity = %.2f bits\",\n        DRIPs.capacity(agg_α7),DRIPs.capacity(idi_α7));\nnothing #hide","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"ω = 1.00σq² for κ = 3.83 \nω = 2.00σq² for κ = 3.19 \nω = 2.31σq² for κ = 3.06 \nω = 2.46σq² for κ = 3.01 \nω = 2.48σq² for κ = 3.00 \nAgg. Capacity = 0.17 bits, Idio. Capacity = 2.83 bits","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"For alpha = 0:","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"ω_α0 = MW(3,0,A,Qq,Qz,H,H);\n\nagg_α0, err = agg_drip(ω_α0,A,Qq,0,H; H0 = rand(L), maxit = 100, w = 0.95);\nidi_α0      = Drip(ω_α0,1,A,Qz,H,w = 0.9);\n\n@printf(\"Agg. Capacity = %.2f bits, Idio. Capacity = %.2f bits\",\n        DRIPs.capacity(agg_α0),DRIPs.capacity(idi_α0));\nnothing #hide","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"ω = 1.00σq² for κ = 4.06 \nω = 2.00σq² for κ = 3.39 \nω = 2.59σq² for κ = 3.16 \nω = 2.99σq² for κ = 3.03 \nω = 3.08σq² for κ = 3.00 \nAgg. Capacity = 0.32 bits, Idio. Capacity = 2.68 bits","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"Plot IRFs:","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"airfs_α7  = irfs(agg_α7, T = L);\nairfs_α0  = irfs(agg_α0, T = L);\n\nplot(1:L,0.75*[σq*H,airfs.a[1,1,:],airfs_α7.a[1,1,:],airfs_α0.a[1,1,:]],\n    label             = [\"Perfect information\" L\"Rational inattention, benchmark economy, $\\alpha = 0.85$\" L\"Lower degree of real rigidity, $\\alpha = 0.7$\" L\"Lower degree of real rigidity, $\\alpha = 0$\"],\n    marker            = [:circle :square :x :circle],\n    color             = [:black :gray20 :gray40 :gray60],\n    markercolor       = [:black false :gray40 false],\n    markerstrokecolor = [:black :gray20 :gray40 :gray60],\n    markersize        = [3 7 7 7],\n    xlim              = (0,L+1),\n    lw                = 1,\n    xticks            = 1:2:21,\n    legend            = :topright,\n    legendfont        = font(11),\n    tickfont          = font(11),\n    size              = (1000,275),\n    ylim              = (0,σq),\n    framestyle        = :box,\n    xlabel            = \"Periods\",\n    ylabel            = \"Impulse responses to shocks \\n of one standard deviation\")","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"(Image: )","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#mw2009_robust_kappa-1","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Other values of information capacity (kappa)","text":"","category":"section"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"For kappa=4:","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"ω_κ4 = MW(4,α,A,Qq,Qz,H,H);\n\nagg_κ4, err = agg_drip(ω_κ4,A,Qq,α,H; H0 = rand(L), maxit = 500, w = 0.95)\nidi_κ4      = Drip(ω_κ4,1,A,Qz,H,w = 0.9)\n\n@printf(\"Agg. Capacity = %.2f bits, Idio. Capacity = %.2f bits\",\n        DRIPs.capacity(agg_κ4),DRIPs.capacity(idi_κ4));\nnothing #hide","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"ω = 1.00σq² for κ = 3.67 \nω = 2.00σq² for κ = 3.06 \nω = 0.46σq² for κ = 4.42 \nω = 0.93σq² for κ = 3.73 \nω = 0.75σq² for κ = 3.95 \nω = 0.70σq² for κ = 4.01 \nω = 0.71σq² for κ = 4.00 \nAgg. Capacity = 0.34 bits, Idio. Capacity = 3.66 bits","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"For kappa=5:","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"ω_κ5 = MW(5,α,A,Qq,Qz,H,H; ω = 0.1*σq^2);\n\nagg_κ5, err = agg_drip(ω_κ5,A,Qq,α,H; H0 = rand(L), maxit = 500, w = 0.95)\nidi_κ5      = Drip(ω_κ5,1,A,Qz,H,w = 0.9)\n\n@printf(\"Agg. Capacity = %.2f bits, Idio. Capacity = %.2f bits\",\n        DRIPs.capacity(agg_κ5),DRIPs.capacity(idi_κ5));\nnothing #hide","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"ω = 0.10σq² for κ = 6.14 \nω = 0.20σq² for κ = 5.29 \nω = 0.23σq² for κ = 5.11 \nω = 0.26σq² for κ = 5.02 \nω = 0.26σq² for κ = 5.00 \nAgg. Capacity = 0.70 bits, Idio. Capacity = 4.30 bits","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"Plot IRFs:","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"airfs_κ4  = irfs(agg_κ4, T = L);\nairfs_κ5  = irfs(agg_κ5, T = L);\n\nplot(1:L,0.75*[σq*H,airfs.a[1,1,:],airfs_κ4.a[1,1,:],airfs_κ5.a[1,1,:]],\n    label             = [\"Perfect information\" L\"Rational inattention, benchmark economy, $\\kappa = 3$\" L\"Rational inattention $\\kappa = 4$\" L\"Rational inattention $\\kappa = 5$\"],\n    marker            = [:circle :square :x :circle],\n    color             = [:black :gray20 :gray40 :gray60],\n    markercolor       = [:black false :gray40 false],\n    markerstrokecolor = [:black :gray20 :gray40 :gray60],\n    markersize        = [3 7 7 7],\n    xlim              = (0,L+1),\n    lw                = 1,\n    xticks            = 1:2:21,\n    legend            = :topright,\n    legendfont        = font(11),\n    tickfont          = font(11),\n    size              = (1000,275),\n    ylim              = (0,σq),\n    framestyle        = :box,\n    xlabel            = \"Periods\",\n    ylabel            = \"Impulse responses to shocks \\n of one standard deviation\")","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"(Image: )","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#mw2009_performance-1","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Measure Performance/Speed","text":"","category":"section"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#Performance-of-the-code-for-aggregate-problem-with-feedback-1","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Performance of the code for aggregate problem with feedback","text":"","category":"section"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"For random values of omega and benchmark values of other parameters:","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"using BenchmarkTools;\n@benchmark agg_drip(ω,A,Qq,α,H; H0 = rand(L), maxit = 100, w = 0.95) setup = (ω = σq^2*5*rand())","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"BenchmarkTools.Trial: \n  memory estimate:  114.42 MiB\n  allocs estimate:  46531\n  --------------\n  minimum time:     111.194 ms (7.79% GC)\n  median time:      524.312 ms (6.58% GC)\n  mean time:        389.854 ms (6.87% GC)\n  maximum time:     575.063 ms (6.77% GC)\n  --------------\n  samples:          13\n  evals/sample:     1","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"For alpha=07 and random values of omega:","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"@benchmark agg_drip(ω_α7,A,Qq,0.7,H; H0 = rand(L), maxit = 100, w = 0.95) setup = (ω = σq^2*5*rand())","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"BenchmarkTools.Trial: \n  memory estimate:  59.14 MiB\n  allocs estimate:  25584\n  --------------\n  minimum time:     61.970 ms (6.95% GC)\n  median time:      89.525 ms (6.46% GC)\n  mean time:        92.209 ms (7.61% GC)\n  maximum time:     145.573 ms (2.95% GC)\n  --------------\n  samples:          55\n  evals/sample:     1","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#Performance-of-the-code-for-idiosyncratic-problem-1","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Performance of the code for idiosyncratic problem","text":"","category":"section"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"@benchmark Drip(ω,1,A,Qz,H,w = 0.9) setup = (ω = σq^2*5*rand())","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"BenchmarkTools.Trial: \n  memory estimate:  12.68 MiB\n  allocs estimate:  6192\n  --------------\n  minimum time:     17.565 ms (0.00% GC)\n  median time:      18.212 ms (0.00% GC)\n  mean time:        19.303 ms (5.25% GC)\n  maximum time:     24.840 ms (18.38% GC)\n  --------------\n  samples:          260\n  evals/sample:     1","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"","category":"page"},{"location":"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009/#","page":"Replication of Mackowiak and Wiederholt (2009)","title":"Replication of Mackowiak and Wiederholt (2009)","text":"This page was generated using Literate.jl.","category":"page"},{"location":"overview/#The-Problem-1","page":"Overview","title":"The Problem","text":"","category":"section"},{"location":"overview/#","page":"Overview","title":"Overview","text":"A LQG Dynamic Rational Inattention Problem (Drip) is defined as the following tracking problem, where at any point in time the agent chooses a vector of actions veca_tinmathbbR^m to track a Gaussian stochastic process vecx_tinmathbbR^n:","category":"page"},{"location":"overview/#","page":"Overview","title":"Overview","text":"beginaligned\n     min_veca_t_tgeq 0 mathbbEleftsum_t=0^infty beta^t (veca_t - vecx_tmathbfH)(veca_t - vecx_tmathbfH) - omega mathbbI(veca^tvecx^tveca^t-1)lvert veca^-1right \n    stquad \n        vecx_t=mathbfAvecx_t-1+mathbfQvecu_tquad vecu_tsim mathcalN(mathbf0mathbfI^ktimes k) \n         veca^-1 text given\nendaligned","category":"page"},{"location":"overview/#","page":"Overview","title":"Overview","text":"Here:","category":"page"},{"location":"overview/#","page":"Overview","title":"Overview","text":"veca_tinmathbbR^m is the vector of the agent's actions at time t (a firms choosing a price, or a househld choosing consumption and labor etc.) We denote the number of actions by m.\nvecx_tinmathbbR^n is the vector of the shocks that the agent faces at time t that are exogenous to her decision, but could be endogenous to the GE model (marginal cost of a firm, real interest rates etc.) We denote the number of shocks by n.","category":"page"},{"location":"overview/#The-Parameters-1","page":"Overview","title":"The Parameters","text":"","category":"section"},{"location":"overview/#","page":"Overview","title":"Overview","text":"The LQG-DRI problem is characterized by the following parameters:","category":"page"},{"location":"overview/#","page":"Overview","title":"Overview","text":"omegain mathbbR_+: cost of 1 bit of information in units of the agent's payoff.\nbetain01: rate of discounting information.\nmathbfAin mathbbR^ntimes n mathbfQinmathbbR^ntimes k: Determine the state space representation of vecx_t.\nmathbfHin mathbbR^ntimes m: interaction of payoffs with shocks. This comes from a second order approximation to the utility function and is such that under full information veca^*=mathbfHvecx.","category":"page"},{"location":"overview/#The-Solution-1","page":"Overview","title":"The Solution","text":"","category":"section"},{"location":"overview/#","page":"Overview","title":"Overview","text":"The solution to the dynamic rational inattention problem is a joint stochastic process between the actions and the states: (veca_tvecx_t)tgeq 0. Moreover, in some economic applications, we are also interested in the law of motion for the agent's belief about vecx_t under the optimal information structure hatx_t=mathbbE_tvecx_t where the expectation is taken conditional on the agent's time t information.","category":"page"},{"location":"overview/#","page":"Overview","title":"Overview","text":"Theorem 2 and Proposition 3 in Afrouzi and Yang (2019) characterize this joint distribution as a function of a tuple (mathbfK_tmathbfY_tmathbfSigma_zt) where","category":"page"},{"location":"overview/#","page":"Overview","title":"Overview","text":"beginaligned\n    veca_t = mathbfHhatx_t = mathbfHmathbfAhatx_t-1+mathbfY_t(vecx_t-mathbfAhatx_t-1)+vecz_t \n    hatx_t = mathbfAhatx_t-1+mathbfK_tmathbfY_t(vecx_t-mathbfAhatx_t-1)+mathbfK_tvecz_tquad veczsimmathcalN(0Sigma_z)\nendaligned","category":"page"},{"location":"overview/#","page":"Overview","title":"Overview","text":"Here,","category":"page"},{"location":"overview/#","page":"Overview","title":"Overview","text":"mathbfK_tinmathbbR^ntimes m is the Kalman-gain matrix of the agent in under optimal information acquisition at time t.\nmathbfY_tinmathbbR^mtimes m is the loading of optimal signals on the state at time t.\nmathbfSigma_ztinmathbbR^mtimes m is the variance-covariance matrix of the agent's rational inattention error at time t.","category":"page"},{"location":"overview/#","page":"Overview","title":"Overview","text":"In addition to these, we might also be interested in the agent's prior and posterior subjective uncertainty, along with the continuation value that she assigns to information:","category":"page"},{"location":"overview/#","page":"Overview","title":"Overview","text":"mathbfSigma_pt=mathbbVar(vecx_tveca^t)inmathbbR^ntimes n.\nmathbfSigma_-1t=mathbbVar(vecx_tveca^t-1)inmathbbR^ntimes n,\nbarOmega_tinmathbbR^ntimes n.","category":"page"},{"location":"overview/#","page":"Overview","title":"Overview","text":"where the matrix barOmega_t captures the value of information (see Afrouzi and Yang (2019) for details)","category":"page"},{"location":"overview/#Steady-State-of-DRIPs-1","page":"Overview","title":"Steady State of DRIPs","text":"","category":"section"},{"location":"overview/#","page":"Overview","title":"Overview","text":"The solver function is Drip(ω,β,A,Q,H). It takes the primitives (ω,β,A,Q,H) as arguments and returns the solution of the model within a Drip type structure that contains all the primitives and the solution objects of the model.","category":"page"},{"location":"overview/#","page":"Overview","title":"Overview","text":"See the syntax section for Drip methods for the definition, syntax and options of Drip.","category":"page"},{"location":"overview/#Transition-Dynamics-of-DRIPs-1","page":"Overview","title":"Transition Dynamics of DRIPs","text":"","category":"section"},{"location":"overview/#","page":"Overview","title":"Overview","text":"The Euler equation derived in Afrouzi and Yang (2019) for the  also allows us to characterize the transition path of the information structure over time for an arbitrary initial prior.","category":"page"},{"location":"overview/#","page":"Overview","title":"Overview","text":"The function Trip(P::Drip,s0) takes a Drip type structure along with an initial condition s0 as an input and returns a Trip structure that summarizes the transition path of the optimal information structure. The initial condition s0 can be given either as an initial prior covariance matrix or alternatively as a one time signal about the state that perturbs the steady state prior.","category":"page"},{"location":"overview/#","page":"Overview","title":"Overview","text":"See the syntax section for Trip methods for the definition, syntax and options of Trip.","category":"page"},{"location":"overview/#Impulse-Response-Functions-1","page":"Overview","title":"Impulse Response Functions","text":"","category":"section"},{"location":"overview/#","page":"Overview","title":"Overview","text":"Once the model is solved, one can generate the impulse response functions of actions and beliefs using the laws of motion stated above.","category":"page"},{"location":"overview/#","page":"Overview","title":"Overview","text":"We have also included a built-in function that generates these IRFs. The function irfs(P::Drip) takes a Drip structure as input and returns the irfs of the state, beliefs and actions to all structural shocks within a Path structure.","category":"page"},{"location":"overview/#","page":"Overview","title":"Overview","text":"The function also returns IRFs for transition dynamics if an initial signal is specified. See the syntax section Impulse Response Functions for the definition of the Path type structure as well as for more information about irfs function.","category":"page"},{"location":"overview/#Simulations-of-DRIPs-1","page":"Overview","title":"Simulations of DRIPs","text":"","category":"section"},{"location":"overview/#","page":"Overview","title":"Overview","text":"Once the model is solved, one can also generate the simulated paths for fundamental, actions and beliefs..","category":"page"},{"location":"overview/#","page":"Overview","title":"Overview","text":"We have also included a built-in function that generates these IRFs. The function simulate(P::Drip) takes a Drip structure as input and returns a simulated path of the state, beliefs and actions to all structural shocks within a Path structure.","category":"page"},{"location":"overview/#","page":"Overview","title":"Overview","text":"See the syntax section Methods for Simulating DRIPs for the definition of the Path type structure as well as for more information about irfs function.","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"EditURL = \"<unknown>/examples/src/ex2_pricing_pe_with_feedback.jl\"","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#Pricing-under-RI-with-Endogenous-Feedback-1","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"","category":"section"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"This example solves a pricing problem under rational inattention with endogenous feedback using the DRIPs package.","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"(Image: Binder) to run and modify the following code (no software is needed on the local machine).","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"See Afrouzi and Yang (2019) for background on the theory. Include the solver and import packages for plots and performance:","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#Contents-1","page":"Pricing under RI with Endogenous Feedback","title":"Contents","text":"","category":"section"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"Setup\nProblem\nMatrix Notation\nInitialization\nAssign Parameters\nA Function for Finding the Fixed Point\nSolution\nIRFs\nMeasure Performance","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#ex2_setup-1","page":"Pricing under RI with Endogenous Feedback","title":"Setup","text":"","category":"section"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#ex2_problem-1","page":"Pricing under RI with Endogenous Feedback","title":"Problem","text":"","category":"section"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"Suppose now that there is general equilibrium feedback with the degree of strategic complementarity alpha: p_it^*=(1-alpha)q_t+alpha p_t where","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"beginaligned\n    Delta q_t=rho Delta q_t-1+u_tquad u_tsim mathcalN(0sigma_u^2) \n    p_tequiv int_0^1 p_itdi\nendaligned","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"Note that now the state space representation for p_it^* is no longer exogenous and is determined in the equilibrium. However, we know that this is a Guassian process and by Wold's theorem we can decompose it to its MA(infty) representation:","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"beginaligned\n    p_it^*=Phi(L)u_t\nendaligned","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"where Phi() is a lag polynomial and u_t is the shock to nominal demand. Here, we have basically guessed that the process for p_it^* is determined uniquely by the history of monetary shocks which requires that rational inattention errors of firms are orthogonal (See Afrouzi (2020)). Our objective is to find Phi().","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"Since we cannot put MA(infty) processes in the computer, we approximate them with truncation. In particular, we know for stationary processes, we can arbitrarily get close to the true process by truncating MA(infty) processes to MA(T) processes. Our problem here is that p_it^* has a unit root and is not stationary. We can bypass this issue by re-writing the state space in the following way:","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"beginaligned\n    p_it^*=phi(L)tildeu_tquad tildeu_t=(1-L)^-1u_t =sum_j=0^infty u_t-j\nendaligned","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"here tildeu_t-j is the unit root of the process and basically we have differenced out the unit root from the lag polynomial, and phi(L)=(1-L)Phi(L). Notice that since the original process was difference stationary, differencing out the unit root means that phi(L) is now in ell_2, and the process can now be approximated arbitrarily precisely with truncation.","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#ex2_matrix_notation-1","page":"Pricing under RI with Endogenous Feedback","title":"Matrix Notation","text":"","category":"section"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"For a length of truncation L, let vecx_tequiv (tildeu_ttildeu_t-1dotstildeu_t-(L+1))inmathbbR^L. Then, note that p_it^*approx mathbfH vecx_t where mathbfHin mathbbR^L is the truncated matrix analog of the lag polynominal, and is endogenous to the problem. Our objective is to find the general equilibrium mathbfH along with the optimal information structure that it implies.","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"Moreover, note that q_t=mathbfH_qvecx_tquad mathbfH_q=(1rhorho^2dotsrho^L-1)","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"We will solve for phi by iterating over the problem. In particular, in iteration ngeq 1, given the guess mathbfH_(n-1), we have the following state space representation for the firm's problem","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"beginaligned\n   vecx_t\n    = undersetmathbfAunderbraceleftbeginarrayccccc\n        1  0  dots  0  0\n        1  0  dots  0  0\n        0  1  dots  0  0\n        vdots  vdots  ddots  vdots  vdots\n        0  0  dots  1  0\n        endarrayright vecx_t-1\n    + undersetmathbfQunderbraceleftbeginarrayc\n        sigma_u\n        0\n        0\n        vdots\n        0\n        endarrayright u_t \n        p_it^*=mathbfH_(n-1)vecx_t\nendaligned","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"Then we can solve the rational inattention problem of all firms and get the new guess for p_t^*:","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"beginaligned\n    p_t^*  = (1-alpha)q_t + alpha p_t \n       = (1-alpha)sum_j=0^infty alpha^j q_t^(j)  \n      q_t^(j)equiv begincases\nq_t  j=0\nint_0^1mathbbE_itq_t^(j-1)di  jgeq1\nendcases\nendaligned","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"where q_t^(j) is the j'th order belief of firms, on average, of q_t. Now, we need to write these higher order beliefs in terms of the state vector. Suppose, for a given j, there exists mathbfX_jin mathbbR^Ltimes L such that $ qt^{(j)} = \\mathbf{H}q'\\mathbf{X}j \\vec{x}t $ This clearly holds for j=0 with mathbfX_0=mathbfI.","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"Now, note that","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"beginaligned\n    q_t^(j+1) = int_0^1mathbbE_itq_t^(j)di \n                  = mathbfH_qmathbfX_jint_0^1mathbbE_itvecx_tdi \n                  = mathbfH_qmathbfX_jsum_j=0^infty(mathbfI-mathbfK_(n)mathbfY_(n))mathbfA^jmathbfK_(n)mathbfY_(n)vecx_t-j \n                  approxundersetequivmathbfX_(n)mathbfH_qmathbfX_junderbraceleftsum_j=0^infty(mathbfI-mathbfK_(n)mathbfY_(n))mathbfA^jmathbfK_(n)mathbfY_(n)mathbfM^jrightvecx_t=mathbfH_qmathbfX_jmathbfX_(n)vecx_t\nendaligned","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"where the (n) subscripts refer to the solution of the RI problem in the (n)'th iteration. Note that this implies $\\mathbf{X}{j}=\\mathbf{X}{(n)}^j,\\forall j\\geq 0 \\Rightarrow qt^{(j)}=\\mathbf{X}{(n)}^{j}\\vec{x}_t $","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"This gives us an updated guess for mathbfH:","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"beginaligned\n    p_t^*=(1-alpha)mathbfH_qundersetequiv mathbfX_p(n)underbraceleftsum_j=0^infty alpha^j mathbfX_(n)^jright vecx_t \n        Rightarrow mathbfH_(n) =  (1-alpha)mathbfX_p(n)mathbfH_q\nendaligned","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"We iterate until convergence of mathbfH_(n).","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#ex2_initialize-1","page":"Pricing under RI with Endogenous Feedback","title":"Initialization","text":"","category":"section"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"Include the package:","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"using DRIPs;\nnothing #hide","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#ex2_params-1","page":"Pricing under RI with Endogenous Feedback","title":"Assign Parameters","text":"","category":"section"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"ρ   = 0.6;        #persistence of money growth\nσ_u = 0.1;        #std. deviation of shocks to money growth\nα   = 0.8;        #degree of strategic complementarity\nL   = 40;         #length of truncation\nHq  = ρ.^(0:L-1); #state-space rep. of Δq\nnothing #hide","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"Specifying the primitives of the DRIP:","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"using LinearAlgebra;\nω   = 0.2;\nβ   = 0.99;\nA   = [1 zeros(1,L-2) 0; Matrix(I,L-1,L-1) zeros(L-1,1)];\nQ   = [σ_u; zeros(L-1,1)];\nnothing #hide","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#ex2_fpointfunc-1","page":"Pricing under RI with Endogenous Feedback","title":"A Function for Finding the Fixed Point","text":"","category":"section"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"Let us now define a function that solves the GE problem and returns the solution in a Drip structure:","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"function ge_drip(ω,β,A,Q,          #primitives of drip except for H because H is endogenous\n                 α,                #strategic complementarity\n                 Hq,               #state space rep. of Δq\n                 L;                #length of truncation\n                 H0       = Hq,    #optional: initial guess for H (Hq is the true solution when α=0)\n                 maxit    = 200,   #optional: max number of iterations for GE code\n                 tol      = 1e-4)  #optional: tolerance for iterations\n    err   = 1;\n    iter  = 0;\n    M     = [zeros(1,L-1) 0; Matrix(I,L-1,L-1) zeros(L-1,1)];\n    while (err > tol) & (iter < maxit)\n            if iter == 0\n                global ge  = Drip(ω,β,A,Q,H0, w = 0.9);\n            else\n                global ge  = Drip(ω,β,A,Q,H0;Ω0 = ge.ss.Ω ,Σ0 = ge.ss.Σ_1,maxit=15);\n            end\n\n            XFUN(jj) = ((I-ge.ss.K*ge.ss.Y')*ge.A)^jj * (ge.ss.K*ge.ss.Y') * (M')^jj\n            X = DRIPs.infinitesum(XFUN; maxit=L, start = 0);  #E[x⃗]=X×x⃗\n\n            XpFUN(jj) = α^jj * X^(jj)\n            Xp = DRIPs.infinitesum(XpFUN; maxit=L, start = 0);\n\n            H1 = (1-α)*Xp'*Hq;\n            err= 0.5*norm(H1-H0,2)/norm(H0)+0.5*err;\n            H0 = H1;\n\n            iter += 1;\n            if iter == maxit\n                print(\"GE loop hit maxit\\n\")\n            end\n            println(\"Iteration $iter. Difference: $err\")\n    end\n    return(ge)\nend;\nnothing #hide","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#ex2_solution-1","page":"Pricing under RI with Endogenous Feedback","title":"Solution","text":"","category":"section"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"Solve for benchmark parameterization:","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"using Suppressor; # suppresses printing of function. comment to see convergence details\n@time @suppress  ge = ge_drip(ω,β,A,Q,α,Hq,L); # remove suppress to see convergence log\nnothing #hide","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"  1.956416 seconds (4.83 M allocations: 544.294 MiB, 3.98% gc time)\n","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#ex2_irfs-1","page":"Pricing under RI with Endogenous Feedback","title":"IRFs","text":"","category":"section"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"Get IRFs:","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"geirfs = irfs(ge,T = L)\n\nM  = [zeros(1,L-1) 0; Matrix(I,L-1,L-1) zeros(L-1,1)]; # shift matrix\ndq = diagm(Hq)*geirfs.x[1,1,:];                        # change in nominal demand\nPi = (I-M)*geirfs.a[1,1,:];                            # inflation\ny  = inv(I-M)*(dq-Pi);                                 # output\n\nusing Plots, LaTeXStrings; pyplot();\np1 = plot(1:L,[dq,Pi],\n     label = [L\"Agg. Demand Growth ($\\Delta q$)\" L\"Inflation ($\\pi$)\"]);\n\np2 = plot(1:L,y,\n     label  = L\"Output ($y$)\");\n\nplot(p1,p2,\n    layout     = (1,2),\n    xlim       = (1,20),\n    lw         = 3,\n    legend     = :topright,\n    legendfont = font(12),\n    tickfont   = font(12),\n    size       = (900,370),\n    framestyle = :box)","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"(Image: )","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#ex2_performance-1","page":"Pricing under RI with Endogenous Feedback","title":"Measure Performance","text":"","category":"section"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"Solve and measure performance for random values of omega:","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"using BenchmarkTools;\n@suppress @benchmark ge_drip(ω,β,A,Q,α,Hq,L) setup = (ω=rand()) # solves and times the fixed point for different values of ω","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"BenchmarkTools.Trial: \n  memory estimate:  282.72 MiB\n  allocs estimate:  34129\n  --------------\n  minimum time:     205.330 ms (7.93% GC)\n  median time:      245.701 ms (9.30% GC)\n  mean time:        268.361 ms (8.80% GC)\n  maximum time:     335.964 ms (9.82% GC)\n  --------------\n  samples:          19\n  evals/sample:     1","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"","category":"page"},{"location":"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback/#","page":"Pricing under RI with Endogenous Feedback","title":"Pricing under RI with Endogenous Feedback","text":"This page was generated using Literate.jl.","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"EditURL = \"<unknown>/examples/src/ex4_Sims_2011.jl\"","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#Replication-of-Sims-(2011)-1","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"","category":"section"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"This example replicates Sims (2011) from the Handbook of Monetary Economics using the DRIPs package.","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"(Image: Binder) to run and modify the following code (no software is needed on the local machine).","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"See Afrouzi and Yang (2019) for background on the theory.","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#Contents-1","page":"Replication of Sims (2011)","title":"Contents","text":"","category":"section"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"Setup\nInitialization\nSolution\nBenchmark Parameterization\nLower Cost of Attention: omega = 01\nOther Discount Factors: beta in 01\nImpulse Response Functions\nBenchmark Parameterization\nLower Cost of Attention: omega = 01\nOther Discount Factors: beta in 01\nExtensions\nTransition Dynamics of Attention\nImpulse Response Functions with Information Treatment","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#sims2011_setup-1","page":"Replication of Sims (2011)","title":"Setup","text":"","category":"section"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"The problem in Sims (2011), as it appears on page 21, with slight change of notation,","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"beginaligned\n             min_Sigma_ttsucceq 0_tgeq 0 mathbbE_0leftsum_t=0^infty\n  beta^t left(tr(Sigma_ttmathbfHmathbfH)+omegalogleft(fracSigma_tt-1Sigma_ttright)right)right \n  stquad \n  Sigma_t+1t=mathbfASigma_ttmathbfA+mathbfQmathbfQ\n             Sigma_tt-1-Sigma_tt text positive semi-definite\nendaligned","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"where","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"beginaligned\n  mathbfH = leftbeginarrayc 1  1endarrayright\n    quad\n    mathbfA = leftbeginarraycc\n                          095  0\n                          0  04\n                     endarrayright\n  quad\n  mathbfQ = leftbeginarraycc\n                          sqrt00975  0\n                          0            sqrt086\n                     endarrayright\nendaligned","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"We have renamed the parameters so that the problem directly maps to a D.R.I.P. Otherwise, the problem is the same.","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#sims2011_param-1","page":"Replication of Sims (2011)","title":"Initialization","text":"","category":"section"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"Include the package:","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"using DRIPs;\nnothing #hide","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"Set parameters:","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"β = 0.9;\nω = 1.0;\nA = [0.95 0.0; 0.0 0.4];\nQ = [√0.0975 0.0; 0.0 √0.86];\nH = [1.0; 1.0];\nnothing #hide","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#sims2011_solution-1","page":"Replication of Sims (2011)","title":"Solution and Performance","text":"","category":"section"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#sims2011_benchmark-1","page":"Replication of Sims (2011)","title":"Benchmark Parameterization","text":"","category":"section"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"Solve and display the optimal posterior covariance matrix:","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"sol_bp = Drip(ω,β,A,Q,H);\nsol_bp.ss.Σ_p","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"2×2 Array{Float64,2}:\n  0.359213  -0.177025\n -0.177025   0.794584","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"Performance for random values of omegain 02:","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"using BenchmarkTools;\n@benchmark Drip(ω,β,A,Q,H) setup = (ω = 2*rand())","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"BenchmarkTools.Trial: \n  memory estimate:  162.38 KiB\n  allocs estimate:  1551\n  --------------\n  minimum time:     82.977 μs (0.00% GC)\n  median time:      95.200 μs (0.00% GC)\n  mean time:        129.325 μs (19.38% GC)\n  maximum time:     12.425 ms (97.53% GC)\n  --------------\n  samples:          10000\n  evals/sample:     1","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"Performance for random values of betain01:","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"@benchmark Drip(ω,β,A,Q,H) setup = (β = rand())","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"BenchmarkTools.Trial: \n  memory estimate:  162.38 KiB\n  allocs estimate:  1551\n  --------------\n  minimum time:     82.355 μs (0.00% GC)\n  median time:      99.819 μs (0.00% GC)\n  mean time:        121.838 μs (17.80% GC)\n  maximum time:     7.221 ms (98.18% GC)\n  --------------\n  samples:          10000\n  evals/sample:     1","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#sims2011_lowomega-1","page":"Replication of Sims (2011)","title":"Lower Cost of Attention: omega = 01","text":"","category":"section"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"Solve and display the optimal posterior covariance matrix:","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"sol_lω = Drip(0.1,β,A,Q,H);\nsol_lω.ss.Σ_p","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"2×2 Array{Float64,2}:\n  0.319919  -0.304142\n -0.304142   0.386163","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#sims2011_betas-1","page":"Replication of Sims (2011)","title":"Different Discount Factors: beta in 01","text":"","category":"section"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"Solve the model for beta=0 and beta=1 to compare with the benchmark value of beta=09:","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"beta = 0","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"sol_lβ = Drip(ω,0,A,Q,H);\nsol_lβ.ss.Σ_p","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"2×2 Array{Float64,2}:\n  0.495403  -0.152171\n -0.152171   0.808939","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"beta = 1:","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"sol_hβ = Drip(ω,1,A,Q,H);\nsol_hβ.ss.Σ_p","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"2×2 Array{Float64,2}:\n  0.337666  -0.178019\n -0.178019   0.799701","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#sims2011_figures-1","page":"Replication of Sims (2011)","title":"Impulse Response Functions","text":"","category":"section"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#sims2011_fig_benchmark-1","page":"Replication of Sims (2011)","title":"Benchmark Parameterization","text":"","category":"section"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"Get the IRFs:","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"T = 25;\nirfs_bp = irfs(sol_bp,T = T);\nnothing #hide","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"Plot IRFs:","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"using Plots, LaTeXStrings; pyplot();\np1 = plot(1:T, [irfs_bp.x[1,1,:], irfs_bp.a[1,1,:]],\n    title             = L\"IRFs to Slow-Moving Shock ($\\rho = 0.95$)\",\n    label             = [\"Shock\" \"Price\"],\n    color             = [:darkgray :black],\n    marker            = [:circle :square],\n    markerstrokecolor = :match,\n    markercolor       = false,\n    markersize        = 6)\np2 = plot(1:T, [irfs_bp.x[2,2,:], irfs_bp.a[1,2,:]],\n    title             = L\"IRFs to Fast-Moving Shock ($\\rho = 0.4$)\",\n    label             = [\"Shock\" \"Price\"],\n    color             = [:darkgray :black],\n    marker            = [:circle :square],\n    markerstrokecolor = :match,\n    markercolor       = false,\n    markersize        = 6)\np = plot(p1,p2,\n    layout     = (2,1),\n    xlabel     = \"Time\",\n    lw         = 2,\n    xticks     = (1:2:T),\n    xlim       = (0,T+1),\n    fontfamily = \"serif\",\n    legend     = :topright,\n    legendfont = font(12),\n    tickfont   = font(12),\n    size       = (900,550),\n    framestyle = :box)","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"(Image: )","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#sims2011_fig_lowomega-1","page":"Replication of Sims (2011)","title":"Lower Cost of Attention: omega=01","text":"","category":"section"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"Get the IRFs:","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"T = 25; #length of IRFs\nirfs_lω = irfs(sol_lω,T = T);\nnothing #hide","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"Plot IRFs:","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"p1 = plot(1:T, [irfs_lω.x[1,1,:], irfs_lω.a[1,1,:]],\n    title             = L\"IRFs to Slow-Moving Shock ($\\rho = 0.95$)\",\n    label             = [\"Shock\" \"Price\"],\n    color             = [:darkgray :black],\n    marker            = [:circle :square],\n    markerstrokecolor = :match,\n    markercolor       = false,\n    markersize        = 6)\np2 = plot(1:T, [irfs_lω.x[2,2,:], irfs_lω.a[1,2,:]],\n    title             = L\"IRFs to Fast-Moving Shock ($\\rho = 0.4$)\",\n    label             = [\"Shock\" \"Price\"],\n    color             = [:darkgray :black],\n    marker            = [:circle :square],\n    markerstrokecolor = :match,\n    markercolor       = false,\n    markersize        = 6)\np = plot(p1,p2,\n    layout     = (2,1),\n    xlabel     = \"Time\",\n    lw         = 2,\n    xticks     = (1:2:T),\n    xlim       = (0,T+1),\n    fontfamily = \"serif\",\n    legend     = :topright,\n    legendfont = font(12),\n    tickfont   = font(12),\n    size       = (900,550),\n    framestyle = :box)","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"(Image: )","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#sims2011_fig_betas-1","page":"Replication of Sims (2011)","title":"Other Discount Factors: betain01","text":"","category":"section"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"Get the IRFs:","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"T = 25; #length of IRFs\nirfs_lβ = irfs(sol_lβ,T = T);\nirfs_hβ = irfs(sol_hβ,T = T);\nnothing #hide","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"Plot IRFs:","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"p1 = plot(1:T, [irfs_bp.x[1,1,:],irfs_hβ.a[1,1,:], irfs_lβ.a[1,1,:]],\n    title             = L\"IRFs to Slow-Moving Shock ($\\rho = 0.95$)\",\n    label             = [\"Shock\" L\"Price ($\\beta=1$)\" L\"Price ($\\beta=0$)\"],\n    color             = [:darkgray :black :gray50],\n    marker            = [:circle :square :utriangle],\n    markerstrokecolor = :match,\n    markercolor       = false,\n    markersize        = 6)\np2 = plot(1:T, [irfs_bp.x[2,2,:],irfs_hβ.a[1,2,:], irfs_lβ.a[1,2,:]],\n    title             = L\"IRFs to Fast-Moving Shock ($\\rho = 0.4$)\",\n    label             = [\"Shock\" L\"Priceblack ($\\beta=1$)\" L\"Price ($\\beta=0$)\"],\n    color             = [:darkgray :black :gray50],\n    marker            = [:circle :square :utriangle],\n    markerstrokecolor = :match,\n    markercolor       = false,\n    markersize        = 6)\np = plot(p1,p2,\n    layout     = (2,1),\n    xlabel     = \"Time\",\n    lw         = 2,\n    xticks     = (1:2:T),\n    xlim       = (0,T+1),\n    fontfamily = \"serif\",\n    legend     = :topright,\n    legendfont = font(12),\n    tickfont   = font(12),\n    size       = (900,550),\n    framestyle = :box)","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"(Image: )","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#sims2011_extensions-1","page":"Replication of Sims (2011)","title":"Extensions","text":"","category":"section"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#sims2011_trip-1","page":"Replication of Sims (2011)","title":"Transition Dynamics of Attention","text":"","category":"section"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"In this section, we solve for the transition dynamics of the optimal posterior covariance matrix starting from an initial prior that is different from the steady state prior.","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"For instance let us consider a case where the firm is at the steady state of the rational inattention problem at time 0, with prior covariance matrix barSigma_-1, and it receives a one time treatment with a perfectly informative signal about its optimal price:","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"s_0 = mathbfHvecx_0","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#Solve-for-the-transition-dynamics-1","page":"Replication of Sims (2011)","title":"Solve for the transition dynamics","text":"","category":"section"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"The function Trip solves for the transition dynamics automatically given the initial signal. Start by initializing the initial signal:","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"s0 = DRIPs.Signal(H,0.0);\nnothing #hide","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"Solve for the transition dynamics given s_0:","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"Tss     = 15; # guess for time until convergence\nbp_trip = Trip(sol_bp, s0; T = Tss);\nnothing #hide","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"Performance for solving the transition dynamics for a random signal:","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"@benchmark Trip(sol_bp, S; T = 30) setup = (S = DRIPs.Signal(rand(2),0.0))","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"BenchmarkTools.Trial: \n  memory estimate:  502.69 KiB\n  allocs estimate:  6201\n  --------------\n  minimum time:     501.836 μs (0.00% GC)\n  median time:      532.584 μs (0.00% GC)\n  mean time:        602.011 μs (10.55% GC)\n  maximum time:     8.669 ms (89.45% GC)\n  --------------\n  samples:          8269\n  evals/sample:     1","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#Plot-Transition-Path-of-Eigenvalues-1","page":"Replication of Sims (2011)","title":"Plot Transition Path of Eigenvalues","text":"","category":"section"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"Plot the marginal values of information. In this problem the state is two dimensional. At any time, for every orthogonalized dimension, the agent weighs the marginal value of acquiring information in that dimension against the marginal cost of attention which is the parameter omega.The number of signals that the agent acquires at any time is the number of marginal values that are larger than omega.","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"p = plot(0:Tss-1,[bp_trip.Ds[1,1:Tss],bp_trip.Ds[2,1:Tss],bp_trip.p.ω*ones(Tss,1)],\n    label             = [\"Low marginal value dim.\" \"High marginal value dim.\" \"Marginal cost of attention\"],\n    size              = (900,275),\n    title             = \"Marginal Value of Information\",\n    xlabel            = \"Time\",\n    color             = [:darkgray :black :black],\n    line              = [:solid :solid :dash],\n    marker            = [:circle :square :none],\n    markercolor       = false,\n    markerstrokecolor = :match,\n    markersize        = 6,\n    xlim              = (-1,Tss),\n    xticks            = 0:2:Tss-1,\n    legend            = :outertopright,\n    fontfamily        = \"serif\",\n    framestyle        = :box)","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"(Image: )","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#sims2011_trip_irfs-1","page":"Replication of Sims (2011)","title":"Impulse Response Functions with Information Treatment","text":"","category":"section"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"Get the IRFs in the transition path after treatment:","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"T = 30;\n\ntirfs_bp = irfs(sol_bp,s0,T = T); # irfs with treatment\nirfs_bp  = irfs(sol_bp,T = T);    # irfs in the Ss (without treatment)\nnothing #hide","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"Plot IRFs:","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"p1 = plot(1:T, [irfs_bp.x[1,1,:], tirfs_bp.a[1,1,:], irfs_bp.a[1,1,:]],\n    title             = L\"IRFs to Slow-Moving Shock ($\\rho = 0.95$)\",\n    label             = [\"Shock\" \"Price (w/ treatment)\" \"Price (w/o treatment)\"],\n    color             = [:darkgray :black :gray80],\n    marker            = [:circle :square :utriangle],\n    markerstrokecolor = :match,\n    markercolor       = false,\n    markersize        = 6)\np2 = plot(1:T, [tirfs_bp.x[2,2,:], tirfs_bp.a[1,2,:], irfs_bp.a[1,2,:]],\n    title             = L\"IRFs to Fast-Moving Shock ($\\rho = 0.4$)\",\n    label             = [\"Shock\" \"Price (w/ treatment)\" \"Price (w/o treatment)\"],\n    color             = [:darkgray :black :gray80],\n    marker            = [:circle :square :utriangle],\n    markerstrokecolor = :match,\n    markercolor       = false,\n    markersize        = 6)\np = plot(p1,p2,\n    layout     = (2,1),\n    xlabel     = \"Time\",\n    lw         = 2,\n    xticks     = (1:2:T),\n    xlim       = (0,T+1),\n    fontfamily = \"serif\",\n    legend     = :topright,\n    legendfont = font(12),\n    tickfont   = font(12),\n    size       = (900,550),\n    framestyle = :box)","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"(Image: )","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"","category":"page"},{"location":"examples/ex4_sims2011/ex4_Sims_2011/#","page":"Replication of Sims (2011)","title":"Replication of Sims (2011)","text":"This page was generated using Literate.jl.","category":"page"},{"location":"#Dynamic-Rational-Inattention-Problems-(DRIPs)-1","page":"Home","title":"Dynamic Rational Inattention Problems (DRIPs)","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"DRIPs.jl is a Julia software package that provides a fast and robust method for solving LQG Dynamic Rational Inattention models using the methods developed by Afrouzi and Yang (2019).","category":"page"},{"location":"#Installation-1","page":"Home","title":"Installation","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"To add the package, execute the following in Julia REPL:","category":"page"},{"location":"#","page":"Home","title":"Home","text":"using Pkg; Pkg.add(\"DRIPs\");","category":"page"},{"location":"#","page":"Home","title":"Home","text":"To import and use the package, execute:","category":"page"},{"location":"#","page":"Home","title":"Home","text":"using DRIPs;","category":"page"},{"location":"#Overview-1","page":"Home","title":"Overview","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"Pages = [\"overview.md\"]\nDepth = 2","category":"page"},{"location":"#Syntax-1","page":"Home","title":"Syntax","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"Pages = [\"syntax.md\",]\nDepth = 3","category":"page"},{"location":"#Examples-and-Replications-1","page":"Home","title":"Examples and Replications","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"Pages = [\n\"examples/ex1_pricing_nofeedback/ex1_pricing_pe_nofeedback.md\",\n\"examples/ex2_pricing_wfeedback/ex2_pricing_pe_with_feedback.md\",\n\"examples/ex3_mw2009/ex3_Mackowiak_Wiederholt_2009.md\",\n\"examples/ex4_sims2011/ex4_Sims_2011.md\",\n\"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019.md\"]\nDepth = 1","category":"page"},{"location":"syntax/#DRIP_methods-1","page":"Syntax","title":"Methods for Steady State of DRIPs","text":"","category":"section"},{"location":"syntax/#","page":"Syntax","title":"Syntax","text":"Modules = [DRIPs]\nPages   = [\"drip_methods.jl\"]","category":"page"},{"location":"syntax/#DRIPs.Drip","page":"Syntax","title":"DRIPs.Drip","text":"Summary\n\nA Type Structure for LQG Dynamic Rational Inattention Problems (DRIPs)\n\nFields\n\nPrimitives of the DRIP\n\nω      : Cost of information\nβ      : Discount factor\nA      : Transition matrix: x=Ax+Qu\nQ      : Std. Dev. matrix: x=Ax+Qu\nH      : Mapping of shocks to actions: v=-0.5(a'-x'H)(a-H'x)\n\nSolution of the DRIP in the Steady State\n\nss     : Steady State Solution as a SteadyState type\nSee also: [`SteadyState`](@ref)\n\n\n\n\n\n","category":"type"},{"location":"syntax/#DRIPs.Drip-NTuple{5,Any}","page":"Syntax","title":"DRIPs.Drip","text":"Drip(ω,β,A,Q,H; kwargs...) -> Drip\n\nSolves for the steady state of a Dynamic Rational Inattention Problem (DRIP)     defined by the arguments and stores the solution in a Drip type.     See Afrouzi and  Yang (2019)     for details.\n\nArguments\n\nThe function takes the primitives of the Drip as arguments:\n\n* ω      : Cost of information\n* β      : Discount factor\n* A      : Transition matrix: x=Ax+Qu\n* Q      : Std. Dev. matrix: x=Ax+Qu\n* H      : Mapping of shocks to actions: v=-0.5(a'-x'H)(a-H'x)\n\nOptional Arguments (kwargs...)\n\nDefault values are set unless specified otherwise by user.\n\n* fcap  [= false]    [if `true` then solves the problem with fixed capacity = ω bits]\n* Ω0    [= H*H']     [initial guess for steady state information matrix]\n* Σ0    [= A*A'+Q*Q'][initial guess for steady state prior]\n* w     [= 1]        [updating weight on the new guess in iteration]\n* tol   [= 1e-4]     [tolerance level for convergence]\n* maxit [= 10000]    [maximum number of iterations]\n\nOutputs\n\nThe function returns a Drip structure with the primitives and the solution objects:\n\n* Y      : Weight vector for evolution of actions\n* Σ_z    : Covariance matrix of the rational inattention error\n* K      : Kalman gain matrix\n* Σ_1    : Steady-state prior covariance matrix under the solution\n* Σ_p    : Steady-state posterior covariance matrix under the solution\n* Ω      : Dynamic benefit matrix\n\nExamples\n\njulia> P = Drip(ω,β,A,Q,H)\n\n\n\n\n\n","category":"method"},{"location":"syntax/#DRIPs.SteadyState","page":"Syntax","title":"DRIPs.SteadyState","text":"Summary\n\nA type srtucture for storing the steady state solution of a Drip.\n\nFields\n\nK      : Kalman gain matrix\nY      : Weight vector for evolution of actions\nΣ_z    : Covariance matrix of the rational inattention error\nΣ_p    : Steady-state posterior covariance matrix under the solution\nΣ_1    : Steady-state prior covariance matrix under the solution\nΩ      : Dynamic benefit matrix\nerr    : Convergence error for the solution\n\n\n\n\n\n","category":"type"},{"location":"syntax/#TRIP_methods-1","page":"Syntax","title":"Methods for Transition dynamics of DRIPs","text":"","category":"section"},{"location":"syntax/#","page":"Syntax","title":"Syntax","text":"Modules = [DRIPs]\nPages   = [\"trip_methods.jl\"]","category":"page"},{"location":"syntax/#DRIPs.Trip","page":"Syntax","title":"DRIPs.Trip","text":"Summary\n\nA Structure for the Transition dynamics of Rational Inattention Problems (TRIPs)\n\nFields\n\nT    : length of TRIP\nΣ_1s : sequence of prior covariance matrices\nΣ_ps : sequence of posterior covariance matrices\nΩs   : sequence of information benefit matrices\nDs   : eigenvalues of Σ_t^(0.5)Ω_tΣ_t^(0.5) over time (marginal values of information)\nerr  : convergence err\n\n\n\n\n\n","category":"type"},{"location":"syntax/#DRIPs.Trip-Tuple{Drip,Any}","page":"Syntax","title":"DRIPs.Trip","text":"     Trip(p::Drip,              # steady state of D.R.I.P.\n          Σ0::Array{Float64,2}; # initial prior matrix\n          T     = 100,          # optional: guess for time until convergence to steady state\n          tol   = 1e-4,         # optional: tolerance for convergence\n          maxit = 1000          # optional: max iterations\n          ) -> Trip\n\nSolves for the transition dynamics of the optimal information structure starting     from the initial prior distribution with covariance matrix Σ0.     See Afrouzi and  Yang (2019)     for details.\n\nOutputs\n\nReturns a Trip structure with the steady state and transition path of     the optimal information structure.\n\nExamples\n\njulia> p = solve_drip(ω,β,A,Q,H)\njulia> Σ0 = 0.1*p.Σ_1;\njulia> Pt = solve_trip(p,Σ0);\n\n\n\n\n\n","category":"method"},{"location":"syntax/#DRIPs.Trip-Tuple{Drip,DRIPs.Signal}","page":"Syntax","title":"DRIPs.Trip","text":"     Trip(p::Drip,             # steady state of D.R.I.P.\n          S::Signal;            # information treatment in the steady state\n          T     = 100,          # optional: guess for time until convergence to steady state\n          tol   = 1e-4,         # optional: tolerance for convergence\n          maxit = 1000          # optional: max iterations\n          ) -> Trip\n\nSolves for the transition dynamics of the optimal information structure starting     from a one time treatment with a signal S in the steady state.     See Afrouzi and  Yang (2019)     for details.\n\nOutputs\n\nReturns a Trip structure with the steady state and transition path of     the optimal information structure.\n\nExamples\n\njulia> p  = Drip(ω,β,A,Q,H)\njulia> S  = Signal(L,Σ_z);\njulia> pt = Trip(p,S);\n\n\n\n\n\n","category":"method"},{"location":"syntax/#DRIPs.Signal","page":"Syntax","title":"DRIPs.Signal","text":"Summary\n\nA Signal Structure for Information Treatments in DRIPs. The structure encodes   the signal S = L'*x+z, z₀~N(0,Σ_z).\n\nFields\n\nL    : loading of the signal on x\nΣ_z  : variance covariance matrix of the noise\n\n\n\n\n\n","category":"type"},{"location":"syntax/#IRFs-1","page":"Syntax","title":"Methods for Impulse Response Functions","text":"","category":"section"},{"location":"syntax/#","page":"Syntax","title":"Syntax","text":"Modules = [DRIPs]\nPages   = [\"irfs_methods.jl\"]","category":"page"},{"location":"syntax/#DRIPs.irfs-Tuple{Drip,DRIPs.Signal}","page":"Syntax","title":"DRIPs.irfs","text":"     irfs(p          :: Drip,                          # Steady state of the DRIP (when treatment happens)\n          S          :: Signal;                        # Signal for treatment\n          T          :: Integer = 40,                    # optional: length of irfs\n          reoptimize :: Bool = true,                   # if true gives the irfs with reoptimized signals, if false with steady state signals\n          trip       :: Union{Trip, Nothing} = nothing # if false solves the trip, if = P::trip then takes P as the trip\n          )\n\nReturns a Path structure with the impulse response functions of the fundamental (x), beliefs (x_hat)     and actions (a) to all the structural shocks     under the information structure implied by a one time information treatment     with S in the steady state of the DRIP P. In particular, if n is the     dimension of x, m is the dimension of a and k is the number of     structural shocks, then\n\nx has dimension n*k*T where x(i,j,:) is the impulse response function   of the i'th dimension of x to the j'th structural shock.\nx_hat has dimension n*k*T where x_hat(i,j,:) is the impulse response function   of the agent's average belief about the i'th dimension of x to the j'th   structural shock.\na has dimension m*k*T where a(i,j,:) is the impulse response function   of the i'th action to the j'th structural shock.\n\n\n\n\n\n","category":"method"},{"location":"syntax/#DRIPs.irfs-Tuple{Drip}","page":"Syntax","title":"DRIPs.irfs","text":"          irfs(p :: Drip;        # Steady state of the DRIP\n               T :: Integer = 40   # Optional: length of impulse response functions\n               ) -> Path\n\nReturns a Path structure with the impulse response functions of the fundamental (x), beliefs (x_hat)     and actions (a) to all the structural shocks     under the steady state information strucutre. In particular, if n is the     dimension of x, m is the dimension of a and k is the number of     structural shocks, then\n\nx has dimension n*k*T where x(i,j,:) is the impulse response function   of the i'th dimension of x to the j'th structural shock.\nx_hat has dimension n*k*T where x_hat(i,j,:) is the impulse response function   of the agent's average belief about the i'th dimension of x to the j'th   structural shock.\na has dimension m*k*T where a(i,j,:) is the impulse response function   of the i'th action to the j'th structural shock.\n\n\n\n\n\n","category":"method"},{"location":"syntax/#DRIPs.irfs-Tuple{Trip}","page":"Syntax","title":"DRIPs.irfs","text":"      irfs(pt :: Trip;       # Transition dynamics of the DRIP\n           T  :: Integer = 40  # Optional: length of impulse response functions\n           ) -> Path\n\nReturns a Path structure with the impulse response functions of the fundamental (x), beliefs (x_hat)     and actions (a) to all the structural shocks     under the information structure implied by P. In particular, if n is the     dimension of x, m is the dimension of a and k is the number of     structural shocks, then\n\nx has dimension n*k*T where x(i,j,:) is the impulse response function   of the i'th dimension of x to the j'th structural shock.\nx_hat has dimension n*k*T where x_hat(i,j,:) is the impulse response function   of the agent's average belief about the i'th dimension of x to the j'th   structural shock.\na has dimension m*k*T where a(i,j,:) is the impulse response function   of the i'th action to the j'th structural shock.\n\n\n\n\n\n","category":"method"},{"location":"syntax/#DRIPs.Path","page":"Syntax","title":"DRIPs.Path","text":"Summary\n\nA Structure for the irfs/simulations of DRIPs\n\nFields\n\nT     : length of IRFs/simulation\nx     : IRFs/simulation of the fundamental shocks\nx_hat : IRFs/simulation of beliefs\na     : IRFs/simulation of actions\n\nIn particular, if n is the dimension of x, m is the dimension of a and k is the number of structural shocks, then\n\nx has dimension n*k*T where x(i,j,:) is the impulse response function of   the i'th dimension of x to the j'th structural shock.\nx_hat has dimension n*k*T where x_hat(i,j,:) is the impulse response   function of the agent's average belief about the i'th dimension of x to   the j'th structural shock.\na has dimension m*k*T where a(i,j,:) is the impulse response function of   the i'th action to the j'th structural shock.\n\n\n\n\n\n","category":"type"},{"location":"syntax/#Simulations-1","page":"Syntax","title":"Methods for Simulating DRIPs","text":"","category":"section"},{"location":"syntax/#","page":"Syntax","title":"Syntax","text":"Modules = [DRIPs]\nPages   = [\"simulations_methods.jl\"]","category":"page"},{"location":"syntax/#DRIPs.simulate-Tuple{Drip}","page":"Syntax","title":"DRIPs.simulate","text":"     simulate(p    :: Drip;\n              T    :: Integer = 500,                    # Optional: length of simulation\n              burn :: Integer = 100,                    # Optional: length of initial burn (in addition to T)\n              N    :: Union{Int4,Nothing} = nothing,    # Optional: number of simulated agents (returns the average beliefs of a large set of agents by default)\n              seed :: Union{Integer,Nothing} = nothing  # Optional: seed number for fundamental shocks\n              ) -> Path\n\nReturns a Path structure with a simulated path of the fundamental (x), beliefs (x_hat)     and actions (a)     under the steady state information structure. In particular, if n is the     dimension of x and m is the dimension of a, then\n\nx has dimension n*T where x(:,t) is the simulated value of x at time t.\nx_hat has dimension n*T*N where x_hat(:,i,t) is the simulated value of x_hat of agent i at time t.\na has dimension m*T*N where a(:,i,t) is the the simulated value of x_hat of agent i at time t.\n\n\n\n\n\n","category":"method"},{"location":"syntax/#Aux.-Functions-1","page":"Syntax","title":"Aux. Functions","text":"","category":"section"},{"location":"syntax/#","page":"Syntax","title":"Syntax","text":"Modules = [DRIPs]\nPages   = [\"aux_funcs.jl\"]","category":"page"},{"location":"syntax/#DRIPs.capacity-Tuple{Drip}","page":"Syntax","title":"DRIPs.capacity","text":"    capacity(P::Drip;      # Drip structure\n             unit = \"bit\"  # optional: unit of capacity (bit or nat).\n             )\n\nReturns the amount of information processes per unit of time in the steady state of the DRIP P.\n\n\n\n\n\n","category":"method"},{"location":"syntax/#DRIPs.infinitesum-Tuple{Any}","page":"Syntax","title":"DRIPs.infinitesum","text":"infinitesum(func; tol = 1e-6,maxit = 1000,start=0)\n\nReturns the infinite sum Σₓfunc(x) starting from x = start up to tolderance tol or max iteration maxit.\n\n\n\n\n\n","category":"method"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"EditURL = \"<unknown>/examples/src/ex5_Afrouzi_Yang_2019.jl\"","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#Replication-of-the-Quantitative-Analysis-in-Afrouzi-and-Yang-(2020)-1","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"","category":"section"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"This notebook replicates the qunatitative analysis in Afrouzi and Yang (2020) using the methods and the solver from Afrouzi and Yang (2020).","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"(Image: Binder) to run and modify the following code (no software is needed on the local machine).","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#Contents-1","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Contents","text":"","category":"section"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Setup\nA Three-Equation RI Model\nMatrix Representation\nInitialization\nFunctions\nSolution\nPost-Volcker Calibration\nPre-Volcker Calibration\nSimulation\nImpulse Response Functions","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#setup-1","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Setup","text":"","category":"section"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#Households-1","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Households","text":"","category":"section"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Households are fully rational and maximize their life-time utilities:","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"beginaligned\nmax    mathbbE_t^fleftsum_t=0^inftybeta^tleft(fracC_t^1-sigma1-sigma-fracint_0^1L_it^1+psidi1+psiright)right\ntextst    int P_itC_it di+B_tleq R_t-1B_t-1+int_0^1W_itL_itdi+Pi_t quad textfor all  t\nendaligned","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"where","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"beginaligned\nC_t = left(int C_it ^fractheta-1thetadiright)^fracthetatheta-1\nendaligned","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Here mathbbE_t^fleftcdotright is the full information rational expectation operator at time t. Since the main purpose of this paper is to study the effects of nominal rigidity and rational inattention among firms, I assume that the household is fully informed about all prices and wages. B_t is the demand for nominal bond and R_t-1 is the nominal interest rate. L_it is firm-specific labor supply of the household, W_it is the firm-specific nominal wage, and Pi_t is the aggregate profit from the firms. C_t is the aggregator over the consumption for goods produced by firms. theta is the constant elasticity of substitution across different firms.","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#Firms-1","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Firms","text":"","category":"section"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"There is a measure one of firms, indexed by i, that operate in monopolistically competitive markets. Firms take wages and demands for their goods as given, and choose their prices P_it based on their information set, S_i^t, at that time.  After setting their prices, firms hire labor from a competitive labor market and produce the realized level of demand that their prices induce with a production function,","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"beginaligned\n    Y_it = A_t L_it\nendaligned","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"where L_it is firm i's demand for labor. I assume that shocks to A_t are independently and identically distributed and the log of the productivity shock, a_itequivlog(A_t), follows a AR(1) process:","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"beginaligned\n    a_t = rho_a a_t-1 + varepsilon_at     varepsilon_at sim N(0sigma_a^2)\nendaligned","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Then, firm i's nominal profit from sales of all goods at prices P_ijt_j=1^N is given by","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"beginaligned labelprofit_function\nPi_it (P_itA_tW_itP_tY_t) =left(P_it-W_itA_tright) left(fracP_itP_tright)^-thetaY_t\nendaligned","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"where Y_t is the nominal aggregate demand.","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"At each period, firms optimally decide their prices and signals subject to costs of processing information. Firms are rationally inattentive in a sense that they choose their optimal information set by taking into account the cost of obtaining and processing information. At the beginning of period t, firm i wakes up with its initial information set, S_i^t-1. Then it chooses optimal signals, s_it, from a set of available signals, mathcalS_it, subject to the cost of information which is linear in Shannon's mutual information function. Denote $ \\omega $ as the marginal cost of information processing. Firm i forms a new information set, S_i^t = S_i^t-1 cup s_it, and sets its new prices, P_it, based on that.","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"The firm i chooses a set of signals to observe over time (s_it in  mathcalS_it)_t=0^infty and a pricing strategy that maps the set of its prices at t-1 and its information set at t to its optimal price at any given period, P_it(S_i^t)rightarrow mathbbR where S_i^t=S_i^t-1cup s_it = S_i^-1 cup s_itau_tau=0^t is the firm's information set at time t.  Then, the firm i's problem is to maximize the net present value of its life time profits given an initial information set:","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"beginaligned  labelfirm_problem\nmax_s_itin mathcalS_itP_it (S_i^t) _tgeq0    mathbbEBiggsum_t=0^inftybeta^t Lambda_t Bigg Pi_it (P_itA_tW_itP_tY_t)  - omega mathbbI ( S_i^t   (A_tauW_itauP_tauY_tau)_tau leq t  S_i^t-1 ) Bigg Bigg S_i^-1Bigg  nonumber \ntextst qquad         S_i^t=S_i^t-1cup s_it nonumber\nendaligned","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"where Lambda_t is the stochastic discount factor and mathbbI ( S_i^t   (A_tauW_itauP_tauY_tau)_tau leq t  S_i^t-1 ) is the Shannon's mutual information function.","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#Monetary-Policy-1","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Monetary Policy","text":"","category":"section"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Monetary policy is specified as a standard Talor rule:","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"beginaligned\n    R_t = (R_t-1)^rho left( Pi_t^phi_pi left( fracY_tY_t^n right)^phi_x left(fracY_tY_t-1 right)^phi_Delta y right)^1-rho exp(u_t)\nendaligned","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"where u_t sim N(0sigma_u^2) is the monetary policy shock.","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#three_equation-1","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"A Three-Equation GE Rational Inattention Model","text":"","category":"section"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Our general equlibrium model is characterized by the following three equations with two stochastic processes of technology (a_t) and monetary policy shocks (u_t):","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"beginaligned\nx_t  =mathbbE_t^fleftx_t+1-frac1sigmaleft(i_t-pi_t+1right)right+mathbbE_t^flefty_t+1^nright-y_t^n \np_it  =mathbbE_itleftp_t + alpha x_tright \ni_t  =rho i_t-1 + left( 1 - rho right) left(phi_pi pi_t+phi_x x_t - phi_Delta y Delta y_t right) + u_t\nendaligned","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"where mathbbE_itcdot is the firm i's expectation operator conditional on her time t information set, x_t = y_t - y_t^n is the output gap, y_t^n=frac1+psisigma+psia_t is the natural level of output, i_t is the nominal interest rate, and alpha = fracsigma+psi1+psitheta is the degree of strategic complementarity.","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#matrix_representation-1","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Matrix Representation","text":"","category":"section"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Firms wants to keep track of their ideal price, p_it^* = p_t + alpha x_t. Notice that the state space representation for p_it^* is no longer exogenous and is determined in the equilibrium. However, we know that this is a Guassian process and by Wold's theorem we can decompose it to its MA(infty) representation:","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"beginaligned\n    p_it^*=Phi_a(L)varepsilon_at + Phi_u(L)varepsilon_ut\nendaligned","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"where Phi_a() and Phi_u() are lag polynomials. Here, we have basically guessed that the process for p_it^* is determined uniquely by the history of monetary shocks which requires that rational inattention errors of firms are orthogonal (See Afrouzi (2020)).","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Since we cannot put MA(infty) processes in the computer and have to truncate them. However, we know that for stationary processes we can arbitrarily get close to the true process by truncating MA(infty) processes. Our problem here is that p_it^* has a unit root and is not stationary. We can bypass this issue by re-writing the state space in the following way:","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"beginaligned\n    p_it^*=Phi_a(L)varepsilon_at + phi_u(L)tildevarepsilon_utquad tildevarepsilon_ut=(1-L)^-1varepsilon_ut =sum_j=0^infty varepsilon_ut-j\nendaligned","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"here tildevarepsilon_ut is the unit root of the process and basically we have differenced out the unit root from the lag polynomial, and phi_u(L)=(1-L)Phi_u(L). Notice that since the original process was difference stationary, differencing out the unit root means that phi_u(L) is now in ell_2, and the process can now be approximated arbitrarily precisely with truncation.","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"For ease of notation, let z_t = (varepsilon_at varepsilon_ut) and tildez_t = (varepsilon_at tildevarepsilon_ut). For a length of truncation L, let vecx_t equiv (z_tz_t-1dotsz_t-(L+1))inmathbbR^2L and vecmathbfx_t equiv (tildez_ttildez_t-1dotstildez_t-(L+1))inmathbbR^2L. Notice that","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"beginaligned\n    vecx_t  = (mathbfI - mathbfLambda mathbfM)vecmathbfx_t \n    vecmathbfx_t  = (mathbfI - mathbfLambda mathbfM)^-1vecx_t\nendaligned","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"where mathbfI is a 2 times 2 identity matrix, mathbfLambda is a diagonal matrix where mathbfLambda_(2i2i) = 1 and mathbfLambda_(2i-12i-1)=0 for all i=12cdotsL, and mathbfM is a shift matrix:","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"beginaligned\n   mathbfM = leftbeginarrayccccc\n        0  0  cdots  0  0  0  0\n        0  0  cdots  0  0  0  0\n        1  0  cdots  0  0  0  0\n        0  1  cdots  0  0  0  0\n        vdots  vdots  ddots  vdots  vdots  vdots  vdots\n        0  0  cdots  1  0  0  0\n        0  0  cdots  0  1  0  0\n        endarrayright\nendaligned","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Then, note that p_it^*approx mathbfH vecmathbfx_t where mathbfHin mathbbR^2L is the truncated matrix analog of the lag polynominal, and is endogenous to the problem. Our objective is to find the general equilibrium mathbfH along with the optimal information structure that it implies.","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Moreover, note that","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"beginaligned\na_t  = mathbfH_avecx_tquad mathbfH_a=(10rho_a0rho_a^20dotsrho_a^L-10) \nu_t  = mathbfH_uvecx_tquad mathbfH_u=(010000dots00)\nendaligned","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"We will solve for mathbfH by iterating over the problem. In particular, in iteration ngeq 1, given the guess mathbfH_(n-1), we have the following state space representation for the firm's problem","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"beginaligned\n   vecmathbfx_t\n    = undersetmathbfAunderbraceleftbeginarrayccccc\n        0  0  0  cdots  0  0  0  0\n        0  1  0  cdots  0  0  0  0\n        1  0  0  cdots  0  0  0  0\n        0  1  0  cdots  0  0  0  0\n        0  0  1  cdots  0  0  0  0\n        vdots  vdots  vdots  ddots  vdots  vdots  vdots  vdots\n        0  0  0  cdots  1  0  0  0\n        0  0  0  cdots  0  1  0  0\n        endarrayright vecmathbfx_t-1\n    + undersetmathbfQunderbraceleftbeginarraycc\n        1  0\n        0  1\n        0  0\n        vdots  vdots \n        0  0\n        endarrayright z_t \n        p_it^*=mathbfH_(n-1)vecmathbfx_t\nendaligned","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Now, note that","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"beginaligned\n    p_t = int_0^1 p_itdi = mathbfH_(n-1) int_0^1mathbbE_itvecmathbfx_tdi \n                  = mathbfH_(n-1) sum_j=0^infty(mathbfI-mathbfK_(n)mathbfY_(n))mathbfA^jmathbfK_(n)mathbfY_(n)vecmathbfx_t-j \n                  approxundersetequivmathbfX_(n)mathbfH_(n-1) underbraceleftsum_j=0^infty(mathbfI-mathbfK_(n)mathbfY_(n))mathbfA^jmathbfK_(n)mathbfY_(n)mathbfM^jrightvecmathbfx_t \n                  = mathbfH_(n-1) mathbfX_(n)vecmathbfx_t = mathbfH_p vecmathbfx_t\nendaligned","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Let x_t = \\mathbf{H}{x}'\\vec{x}{t} $, i_t = \\mathbf{H}{i}'\\vec{x}{t} $, and \\pit = \\mathbf{H}{\\pi}'\\vec{x}{t} = \\mathbf{H}{p}'(\\mathbf{I} - \\mathbf{\\Lambda} \\mathbf{M}')^{-1} (\\mathbf{I} - \\mathbf{M}') \\vec{x}_t $. Then from the households Euler equation, we have:","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"beginaligned\n     x_t =mathbbE_t^fleftx_t+1-frac1sigmaleft(i_t-pi_t+1right)right+mathbbE_t^fy_t+1^n - y_t^n \n    Longrightarrow    mathbfH_i =sigmaleft(mathbfM-mathbfIright)mathbfH_x + fracsigma(1+psi)sigma+psileft(mathbfM-mathbfIright) mathbfH_a+mathbfMmathbfH_pi\nendaligned","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Also, the Talyor rule gives:","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"beginaligned\n i_t =rho_1i_t-1+rho_2i_t-2+left(1-rho_1-rho_2right)left(phi_pipi_t+phi_xx_t+phi_Delta yleft(y_t-y_t-1right)right)+u_t \nLongrightarrow    left(mathbfI-rho_1mathbfM-rho_2mathbfM^2right)mathbfH_i =left(1-rho_1-rho_2right)phi_pimathbfH_pi+left(1-rho_1-rho_2right)phi_xmathbfH_x\n  +left(1-rho_1-rho_2right)phi_Delta yleft(mathbfI-mathbfMright)left(mathbfH_x + frac1+psisigma+psi mathbfH_a right) + mathbfH_u\nendaligned","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"These give us mathbfH_x and mathbfH_i and we update new mathbfH_(n) using:","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"beginaligned\n     mathbfH_(n) = mathbfH_p + alpha (mathbfI - mathbfM mathbfLambda) mathbfH_x\nendaligned","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"We iterate until convergence of mathbfH_(n).","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#param-1","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Initialization","text":"","category":"section"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Load DRIPs solver and other packages:","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"using DRIPs;\nusing BenchmarkTools, LinearAlgebra, GLM, Statistics, Suppressor, Printf;\nusing PyPlot; rc(\"text\", usetex=\"True\") ;\n              rc(\"font\",family=\"serif\",serif=:\"Palatino\") ;\nusing Plots, LaTeXStrings; pyplot() ;\nnothing #hide","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Set parameters:","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"struct param\n    β; σ; ψ; θ; α; # Deep parameters\n    ϕ_π; ϕ_x; ϕ_dy; ρ; # Monetary policy parameters\n    ρa; ρu; σa; σu; # Shock paramters\nend","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"###Assign model parameters","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"σ       = 2.5       ; #Risk aversion\nβ       = 0.99      ; #Time discount\nψ       = 2.5       ; #Inverse of Frisch elasticity of labor supply\nθ       = 10        ; #Elasticity of substitution across firms\nα       = (σ+ψ)/(1+ψ*θ) ; #Strategic complementarity (1-α)\nnothing #hide","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"###Assign monetary policy parameters: post-Volcker","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"ϕ_π     = 2.028     ; #Taylor rule response to inflation\nϕ_x     = 0.673/4   ; #Taylor rule response to output\nϕ_dy    = 3.122     ; #Taylor rule response to growth\nρ       = 0.9457    ; #interest rate smoothing\nnothing #hide","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"###Assign monetary policy parameters: pre-Volcker","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"ϕ_π_pre = 1.589     ; #Taylor rule response to inflation\nϕ_x_pre = 1.167/4   ; #Taylor rule response to output\nϕ_dy_pre= 1.028     ; #Taylor rule response to output growth\nρ_pre   = 0.9181    ; #interest rate smoothing\nnothing #hide","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"###Assign parameters governing shock processes","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"ρu      = 0.0       ; #persistence of MP shock (post-Volcker)\nσu      = 0.279     ; #S.D. of MP shock (post-Volcker)\nρu_pre  = 0.0       ; #persistence of MP shock (pre-Volcker)\nσu_pre  = 0.535     ; #S.D. of MP shock (pre-Volcker)\nnothing #hide","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"###Calibrated parameters","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"ρa      = 0.85      ; #persistence of technology shock\nσa      = 1.56      ; #S.D. of technology shock\nω       = 0.773     ; #marginal cost of information\nnothing #hide","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"###Parameters for simulation/irfs","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"simT    = 50000     ;\nnburn   = 500       ;\nT       = 20        ;\nnothing #hide","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Primitives of Drip","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"numshock= 2         ; #number of shocks\nL       = 160       ; #length of trunction\nM       = [zeros(1,L-1) 0; Matrix(I,L-1,L-1) zeros(L-1,1)];\nM       = M^2       ;\nJ       = zeros(L,L); J[2,2] = 1 ;\nLambda  = zeros(L,L);\nfor i = 1:Int64(L/numshock); Lambda[i*numshock,i*numshock] = 1; end\nA       = M + J     ;\neye     = Matrix(I,L,L);\nnothing #hide","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#Functions-1","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Functions","text":"","category":"section"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"We start with a function that solves the GE problem and returns the solution in a Drip structure:","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"function agg_drip(p::param,ω,A,Q,M,Lambda,\n                  Ha,               #state space rep. of a\n                  Hu;               #state space rep. of u\n                  H0    = Hu+Ha,    #optional: initial guess for H0\n                  Sigma = A*A'+Q*Q',#optional: initial guess for Σ_0\n                  Omega = H0*H0',   #optional: initial guess for Ω\n                  maxit = 10000,    #optional: max. iterations for GE code\n                  maxit_in = 100,   #optional: max. iterations for solving DRIP\n                  tol   = 1e-4,     #optional: tolerance for iterations\n                  w     = 1)        #optional: update weight for RI\n    err   = 1;\n    iter  = 1;\n    L     = length(H0);\n    eye   = Matrix(I,L,L);\n\n    temp0 = (eye-M)*inv(eye - M*Lambda') ;\n    Htemp1 = (p.σ*(eye-p.ρ*M)*(M'-eye) - (1-p.ρ)*(p.ϕ_x*eye + p.ϕ_dy*(eye-M))) ;\n    Htemp2 = (1-p.ρ)*p.ϕ_π*eye - (eye-p.ρ*M)*M' ;\n    Htemp3 = (1+p.ψ)/(p.σ+p.ψ)*((1-p.ρ)*p.ϕ_dy*(eye-M) - p.σ*(eye-p.ρ*M)*(M'-eye)) ;\n\n    while (err > tol) & (iter < maxit)\n\n        if iter == 1\n            global ge  = Drip(ω,p.β,A,Q,H0;\n                              Ω0=Omega, Σ0=Sigma, w=w, maxit=maxit_in);\n        else\n            global ge  = Drip(ω,p.β,A,Q,H0;\n                              Ω0=ge.ss.Ω, Σ0=ge.ss.Σ_1, w=w, maxit=maxit_in);\n        end\n\n        XFUN(jj) = ((eye-ge.ss.K*ge.ss.Y')*ge.A)^jj * (ge.ss.K*ge.ss.Y') * (M')^jj\n        X = DRIPs.infinitesum(XFUN; maxit=200, start = 0);  #E[x⃗]=X×x⃗\n\n        global Hp = X'*H0 ;\n        global Hπ = temp0*Hp ;\n\n        Hπ[L-20:end,:] .= 0\n\n        global Hx = (Htemp1)\\(Htemp2*Hπ + Htemp3*Ha + Hu) ;\n\n        global H1 = Hp + p.α*(eye - M*Lambda')*Hx ;\n\n        err= 0.5*norm(H1-H0,2)/norm(H0)+0.5*err;\n\n        H0 = H1;\n\n        cap = DRIPs.capacity(ge, unit = \"bit\")\n\n        if iter == maxit\n            print(\"***GE loop hit maxit -- no convergence\\n\")\n        elseif mod(iter,50) == 0\n            println(\"  Iteration $iter. Error: $err. Capacity: $cap.\")\n        end\n\n        iter += 1;\n    end\n\n    return(ge,H1,Hx,Hp,Hπ)\nend;\nnothing #hide","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#solve_model-1","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Model Solution","text":"","category":"section"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#model_post_volcker-1","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Post-Volcker Calibration","text":"","category":"section"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Start with post-Volcker calibration:","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Q       = zeros(L,2); Q[1,1]=σa; Q[2,2]=σu;\n\nHa_post = ρa.^(0:1:L/2-1) ;\nHu_post = ρu.^(0:1:L/2-1) ;\nHa_post = kron(Ha_post,[1,0])[:,:] ;\nHu_post = kron(Hu_post,[0,1])[:,:] ;\n\np       = param(β,σ,ψ,θ,α,ϕ_π,ϕ_x,ϕ_dy,ρ,ρa,ρu,σa,σu) ;\nnothing #hide","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Get initial guess","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"print(\"\\nGet initial guess for post-Volcker solutions\\n\")\n@time begin\n    @suppress agg_drip(p,ω,A,Q,M,Lambda,Ha_post,Hu_post;\n                       w=0.95, maxit=300, maxit_in=5);\nend;\nnothing #hide","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"\nGet initial guess for post-Volcker solutions\n 53.303741 seconds (1.51 M allocations: 110.753 GiB, 1.71% gc time)\n","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Solve the model: Post-Volcker","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"print(\"\\nSolve for the post-Volcker model:\\n\");\n@time (ge_post,H1_post,Hx_post,Hp_post,Hπ_post) =\n            agg_drip(p,ω,A,Q,M,Lambda,Ha_post,Hu_post;\n                     H0    = H1,\n                     Sigma = ge.ss.Σ_1,\n                     Omega = ge.ss.Ω,\n                     w=0.95, maxit=5000, maxit_in=500) ;\n\nHy_post = Hx_post + (1+ψ)/(σ+ψ)*Ha_post     ;\nHi_post = M'*Hπ_post + σ*(M'-eye)*Hy_post   ;\nHr_post = Hi_post - (M')*Hπ_post            ;\nnothing #hide","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"\nSolve for the post-Volcker model:\n  Iteration 50. Error: 0.00019955553628239823. Capacity: 1.1862271072482864.\n  Iteration 100. Error: 0.0001744872805571109. Capacity: 1.1857495656383183.\n  Iteration 150. Error: 0.00015864561622833798. Capacity: 1.18530140435572.\n  Iteration 200. Error: 0.00014625771320174962. Capacity: 1.1849474294457745.\n  Iteration 250. Error: 0.00013581998821178998. Capacity: 1.184782449923788.\n  Iteration 300. Error: 0.00012822204892082466. Capacity: 1.1844767889679662.\n  Iteration 350. Error: 0.00012052948044002251. Capacity: 1.184205165427262.\n  Iteration 400. Error: 0.0001177295005858932. Capacity: 1.1839682745514049.\n  Iteration 450. Error: 0.00011038503577128138. Capacity: 1.1838080473974388.\n  Iteration 500. Error: 0.00011286983266623046. Capacity: 1.1835142347515875.\n  Iteration 550. Error: 0.00011083164494455719. Capacity: 1.1835967086043597.\n113.828645 seconds (2.82 M allocations: 224.653 GiB, 1.71% gc time)\n","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#model_pre_volcker-1","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Pre-Volcker Calibration","text":"","category":"section"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Then, pre-Volcker calibration:","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Q_pre    = zeros(L,2); Q_pre[1,1]=σa; Q_pre[2,2]=σu_pre;\n\nHa_pre   = ρa.^(0:1:L/2-1)          ;\nHu_pre   = ρu_pre.^(0:1:L/2-1)      ;\nHa_pre   = kron(Ha_pre,[1,0])[:,:]  ;\nHu_pre   = kron(Hu_pre,[0,1])[:,:]  ;\n\np_pre    = param(β,σ,ψ,θ,α,ϕ_π_pre,ϕ_x_pre,ϕ_dy_pre,\n                 ρ_pre,ρa,ρu_pre,σa,σu_pre) ;\nnothing #hide","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Get initial guess: Pre-Volcker","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"print(\"\\nGet initial guess for pre-Volcker solutions\\n\")\n@time begin\n    @suppress agg_drip(p_pre,ω,A,Q_pre,M,Lambda,Ha_pre,Hu_pre;\n                       H0    = H1_post,\n                       Sigma = ge_post.ss.Σ_1,\n                       Omega = ge_post.ss.Ω,\n                       w=0.95, maxit=300, maxit_in=5) ;\nend;\nnothing #hide","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"\nGet initial guess for pre-Volcker solutions\n 54.759279 seconds (1.38 M allocations: 110.745 GiB, 1.79% gc time)\n","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Solve the model: Pre-Volcker","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"print(\"\\nSolve for the pre-Volcker model:\\n\");\n@time begin (ge_pre,H1_pre,Hx_pre,Hp_pre,Hπ_pre) =\n            agg_drip(p_pre,ω,A,Q_pre,M,Lambda,Ha_pre,Hu_pre;\n                     H0    = H1,\n                     Sigma = ge.ss.Σ_1,\n                     Omega = ge.ss.Ω,\n                     w=0.95, maxit=5000, maxit_in=500) ;\nend\n\nHy_pre    = Hx_pre + (1+ψ)/(σ+ψ)*Ha_pre     ;\nHi_pre    = M'*Hπ_pre + σ*(M'-eye)*Hy_pre   ;\nHr_pre    = Hi_pre - (M')*Hπ_pre            ;\nnothing #hide","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"\nSolve for the pre-Volcker model:\n  Iteration 50. Error: 0.0001485454079821963. Capacity: 1.6642946059660233.\n  Iteration 100. Error: 0.00011573353266253216. Capacity: 1.664275383320826.\n 26.440182 seconds (651.97 k allocations: 52.173 GiB, 1.62% gc time)\n","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#simulation-1","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Model Simulation","text":"","category":"section"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Start with the simulation for post-Volcker:","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"print(\"\\nSimulate the models:\\n\");\n\n@time begin\n    sim_post    = simulate(ge_post; T=simT, burn=nburn, seed=1) ;\n\n    x_shock     = sim_post.x        ;\n    xhat_avg    = sim_post.x_hat    ;\n\n    sim_π       = (Hπ_post'*(eye-Lambda*M')*x_shock)' ;\n    sim_y       = (Hy_post'*(eye-Lambda*M')*x_shock)' ;\n    sim_x       = (Hx_post'*(eye-Lambda*M')*x_shock)' ;\n\n    mat_sim     = [sim_π sim_y sim_x]   ;\n    cor_sim     = cor(mat_sim)          ;\n\n    stat_post   = vec([std(sim_π/100) std(sim_y/100) cor_sim[2,1]]) ;\n\n    s = @sprintf(\"==> Post-Volcker: std(π)=%5.3f, std(y)=%5.3f, corr(π,y)=%5.3f\",\n                 stat_post[1], stat_post[2], stat_post[3])  ;\n    println(s) ;\nend","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"\nSimulate the models:\n==> Post-Volcker: std(π)=0.015, std(y)=0.018, corr(π,y)=0.209\n  2.672695 seconds (1.06 M allocations: 10.858 GiB, 4.74% gc time)\n","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Now simulate for pre-Volcker:","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"@time begin\n    sim_pre     = simulate(ge_pre; T=simT, burn=nburn, seed=1) ;\n\n    x_shock_pre = sim_pre.x     ;\n    xhat_avg_pre= sim_pre.x_hat ;\n\n    sim_π_pre   = (Hπ_pre'*(eye-Lambda*M')*x_shock_pre)';\n    sim_y_pre   = (Hy_pre'*(eye-Lambda*M')*x_shock_pre)';\n    sim_x_pre   = (Hx_pre'*(eye-Lambda*M')*x_shock_pre)';\n\n    mat_sim_pre = [sim_π_pre sim_y_pre sim_x_pre]   ;\n    cor_sim_pre = cor(mat_sim_pre)                  ;\n\n    stat_pre    = vec([std(sim_π_pre/100) std(sim_y_pre/100) cor_sim_pre[2,1]]);\n\n    s = @sprintf(\"==> Pre-Volcker : std(π)=%5.3f, std(y)=%5.3f, corr(π,y)=%5.3f\",\n                 stat_pre[1],stat_pre[2],stat_pre[3])  ;\n    println(s) ;\nend","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"==> Pre-Volcker : std(π)=0.025, std(y)=0.020, corr(π,y)=0.245\n  3.185264 seconds (1.06 M allocations: 10.858 GiB, 11.97% gc time)\n","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#irfs-1","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Impulse Response Functions","text":"","category":"section"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Reshape variables for IRFs","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"pi      = reshape(Hπ_post,numshock,Int64(L/numshock))' ;\nx       = reshape(Hx_post,numshock,Int64(L/numshock))' ;\ny       = reshape(Hy_post,numshock,Int64(L/numshock))' ;\ni       = reshape(Hi_post,numshock,Int64(L/numshock))' ;\nr       = reshape(Hr_post,numshock,Int64(L/numshock))' ;\na       = reshape(Ha_post,numshock,Int64(L/numshock))' ;\nu       = reshape(Hu_post,numshock,Int64(L/numshock))' ;\n\npi_pre  = reshape(Hπ_pre,numshock,Int64(L/numshock))' ;\nx_pre   = reshape(Hx_pre,numshock,Int64(L/numshock))' ;\ny_pre   = reshape(Hy_pre,numshock,Int64(L/numshock))' ;\ni_pre   = reshape(Hi_pre,numshock,Int64(L/numshock))' ;\nr_pre   = reshape(Hr_pre,numshock,Int64(L/numshock))' ;\na_pre   = reshape(Ha_pre,numshock,Int64(L/numshock))' ;\nu_pre   = reshape(Hu_pre,numshock,Int64(L/numshock))' ;\nnothing #hide","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"Plot IRFs:","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"#Draw IRFs","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"title1 = Plots.plot(ylabel     = \"IRFs to Technoloygy Shock\",\n             guidefont  = font(10),\n             grid       = false, showaxis = false,\n             bottom_margin = 20Plots.px)\ntitle2 = Plots.plot(ylabel     = \"IRFs to Monetary Shock\",\n             guidefont  = font(10),\n             grid       = false, showaxis = false,\n             bottom_margin = -50Plots.px,\n             top_margin = 30Plots.px)\n\np1 = Plots.plot(0:T,[σa*pi[1:T+1,1],σa*pi_pre[1:T+1,1]],\n        title           = L\"Inflation ($\\pi_t$)\",\n        ylabel          = \"Percent\",\n        guidefont       = font(9),\n        yticks          = -1:0.2:0.3,\n        label           = [\"Post-Volcker\" \"Pre-Volcker\"],\n        legend          = :bottomright,\n        legendfont      = font(8),\n        color           = [:black :darkgray],\n        linestyle       = [:solid :dashdot],\n        )\np2 = Plots.plot(0:T,[σa*y[1:T+1,1],σa*y_pre[1:T+1,1]],\n        title           = L\"Output ($y_t$)\",\n        legend          = false,\n        color           = [:black :darkgray],\n        linestyle       = [:solid :dashdot],\n        )\np3 = Plots.plot(0:T,[σa*i[1:T+1,1],σa*i_pre[1:T+1,1]],\n        title           = L\"Nominal Rate ($i_t$)\",\n        legend          = false,\n        yticks          = -0.15:0.03:0.0,\n        color           = [:black :darkgray],\n        linestyle       = [:solid :dashdot],\n        )\np4 = Plots.plot(0:T,[σa*r[1:T+1,1],σa*r_pre[1:T+1,1]],\n        title           = L\"Real Rate ($r_t$)\",\n        legend          = false,\n        color           = [:black :darkgray],\n        linestyle       = [:solid :dashdot],\n        )\np5 = Plots.plot(0:T,[-σu*pi[1:T+1,2],-σu_pre*pi_pre[1:T+1,2]],\n        title           = L\"Inflation ($\\pi_t$)\",\n        ylabel          = \"Percent\",\n        xlabel          = \"Time\",\n        guidefont       = font(9),\n        label           = [\"Post-Volcker\" \"Pre-Volcker\"],\n        legend          = :topright,\n        legendfont      = font(8),\n        color           = [:black :darkgray],\n        linestyle       = [:solid :dashdot],\n        )\np6 = Plots.plot(0:T,[-σu*y[1:T+1,2],-σu_pre*y_pre[1:T+1,2]],\n        title           = L\"Output ($y_t$)\",\n        xlabel          = \"Time\",\n        guidefont       = font(9),\n        legend          = false,\n        color           = [:black :darkgray],\n        linestyle       = [:solid :dashdot],\n        )\np7 = Plots.plot(0:T,[-σu*i[1:T+1,2],-σu_pre*i_pre[1:T+1,2]],\n        title           = L\"Nominal Rate ($i_t$)\",\n        xlabel          = \"Time\",\n        guidefont       = font(9),\n        legend          = false,\n        color           = [:black :darkgray],\n        linestyle       = [:solid :dashdot],\n        )\np8 = Plots.plot(0:T,[-σu*r[1:T+1,2],-σu_pre*r_pre[1:T+1,2]],\n        title           = L\"Real Rate ($r_t$)\",\n        xlabel          = \"Time\",\n        guidefont       = font(9),\n        legend          = false,\n        color           = [:black :darkgray],\n        linestyle       = [:solid :dashdot],\n        )\n\nl = @layout [\n            a{0.001w} Plots.grid(1,4)\n            a{0.001w} Plots.grid(1,4)\n            ]\n\nPlots.plot(title1,p1,p2,p3,p4,title2,p5,p6,p7,p8,\n        layout      = l,\n        gridstyle   = :dot,\n        gridalpha   = 0.2,\n        lw          = [2.5 2],\n        titlefont   = font(10),\n        xticks      = (0:4:T),\n        xlim        = (0,T),\n        tickfont    = font(8),\n        size        = (900,550),\n        framestyle  = :box)","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"(Image: )","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"","category":"page"},{"location":"examples/ex5_ay2020/ex5_Afrouzi_Yang_2019/#","page":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","title":"Replication of the Quantitative Analysis in Afrouzi and Yang (2020)","text":"This page was generated using Literate.jl.","category":"page"}]
}
